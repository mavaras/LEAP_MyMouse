<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>controllers.leap_controller &#8212; LeapPCController 2019 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css"/>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css"/>
    <script type="text/javascript" id="documentation_options" data-url_root="../../"
            src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html"/>
    <link rel="search" title="Search" href="../../search.html"/>

    <link rel="stylesheet" href="../../_static/custom.css" type="text/css"/>


    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9"/>

</head>
<body>


<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">


            <div class="body" role="main">

                <h1>Source code for controllers.leap_controller</h1>
                <div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># ===============LEAP API CONTROLLER===============</span>
<span class="c1"># == Leap interactions</span>
<span class="c1"># == frame representation</span>
<span class="c1"># == events</span>
<span class="c1"># == sends signals to view</span>


<span class="c1"># basic modules imports</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># aux modules imports</span>
<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span
                        class="n">deque</span>
<span class="kn">from</span> <span class="nn">pynput.keyboard</span> <span class="k">import</span> <span
                        class="n">Key</span><span class="p">,</span> <span class="n">Controller</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="k">import</span> <span
                        class="n">QObject</span><span class="p">,</span> <span class="n">pyqtSignal</span>

<span class="c1"># Leap Motion API</span>
<span class="kn">import</span> <span class="nn">lib.Leap</span> <span class="k">as</span> <span class="nn">Leap</span>

<span class="c1"># own package imports</span>
<span class="kn">from</span> <span class="nn">_print</span> <span class="k">import</span> <span class="n">_print</span>
<span class="kn">from</span> <span class="nn">aux_functions</span> <span class="k">import</span> <span
                        class="o">*</span>
<span class="kn">from</span> <span class="nn">win32_functions</span> <span class="k">import</span> <span
                        class="o">*</span>
<span class="kn">from</span> <span class="nn">key_handle</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">mouse</span> <span class="k">import</span> <span class="n">Mouse</span>
<span class="kn">from</span> <span class="nn">gvariables</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">gvariables</span>

<span class="n">cv_frame_XY</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span
                        class="n">zeros</span><span class="p">((</span><span class="mi">540</span><span
                        class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">3</span><span
                        class="p">),</span> <span class="n">np</span><span class="o">.</span><span
                        class="n">uint8</span><span class="p">)</span>
<span class="n">cv_frame_XZ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span
                        class="n">zeros</span><span class="p">((</span><span class="mi">540</span><span
                        class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">3</span><span
                        class="p">),</span> <span class="n">np</span><span class="o">.</span><span
                        class="n">uint8</span><span class="p">)</span>


<span class="c1"># CLASS defining a single Point</span>
<div class="viewcode-block" id="Point"><a class="viewcode-back"
                                          href="../../controllers.html#controllers.leap_controller.Point">[docs]</a><span
        class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span
            class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span
            class="nb">id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span
            class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span
            class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span
            class="nb">id</span>

<div class="viewcode-block" id="Point.convert_to"><a class="viewcode-back"
                                                     href="../../controllers.html#controllers.leap_controller.Point.convert_to">[docs]</a>    <span
        class="k">def</span> <span class="nf">convert_to</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">where_W</span><span class="p">,</span> <span class="n">where_H</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; method to translate parent point to given location</span>

<span class="sd">        :param where_W: width</span>
<span class="sd">        :param where_H: height</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span
            class="n">where_H</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>   <span
            class="c1"># Y invertion (conflict with NN)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span
            class="p">(</span><span class="n">W</span> <span class="o">*</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">where_W</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span
            class="p">(</span><span class="n">H</span> <span class="o">*</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">where_H</span></div></div>


<span class="c1"># CLASS LEAP API</span>
<div class="viewcode-block" id="leap_listener"><a class="viewcode-back"
                                                  href="../../controllers.html#controllers.leap_controller.leap_listener">[docs]</a><span
        class="k">class</span> <span class="nc">leap_listener</span><span class="p">(</span><span
        class="n">Leap</span><span class="o">.</span><span class="n">Listener</span><span class="p">):</span>
    <span class="n">frame</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">capture_frame</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># QObject class with those things to send to gui.py through signals</span>
<div class="viewcode-block" id="leap_listener.LeapStatus"><a class="viewcode-back"
                                                             href="../../controllers.html#controllers.leap_controller.leap_listener.LeapStatus">[docs]</a>    <span
        class="k">class</span> <span class="nc">LeapStatus</span><span class="p">(</span><span
        class="n">QObject</span><span class="p">):</span>
        <span class="n">leap_connected</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">sgn_leap_connected</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span
            class="p">(</span><span class="nb">bool</span><span class="p">)</span>
        <span class="n">sgn_cv_frame_XY</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span
            class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span
            class="p">)</span>
        <span class="n">sgn_cv_frame_XZ</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span
            class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span
            class="p">)</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span
            class="bp">self</span><span class="p">):</span>
            <span class="n">QObject</span><span class="o">.</span><span class="fm">__init__</span><span
            class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="leap_listener.LeapStatus.emit_leap_connected"><a class="viewcode-back"
                                                                                 href="../../controllers.html#controllers.leap_controller.leap_listener.LeapStatus.emit_leap_connected">[docs]</a>        <span
        class="k">def</span> <span class="nf">emit_leap_connected</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sgn_leap_connected</span><span
            class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">val</span><span
            class="p">)</span></div>

<div class="viewcode-block" id="leap_listener.LeapStatus.emit_cv_frame_XY"><a class="viewcode-back"
                                                                              href="../../controllers.html#controllers.leap_controller.leap_listener.LeapStatus.emit_cv_frame_XY">[docs]</a>        <span
        class="k">def</span> <span class="nf">emit_cv_frame_XY</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sgn_cv_frame_XY</span><span
            class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">frame</span><span
            class="p">)</span></div>

<div class="viewcode-block" id="leap_listener.LeapStatus.emit_cv_frame_XZ"><a class="viewcode-back"
                                                                              href="../../controllers.html#controllers.leap_controller.leap_listener.LeapStatus.emit_cv_frame_XZ">[docs]</a>        <span
        class="k">def</span> <span class="nf">emit_cv_frame_XZ</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sgn_cv_frame_XZ</span><span
            class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">frame</span><span
            class="p">)</span></div></div>

<div class="viewcode-block" id="leap_listener.clear_variables"><a class="viewcode-back"
                                                                  href="../../controllers.html#controllers.leap_controller.leap_listener.clear_variables">[docs]</a>    <span
        class="k">def</span> <span class="nf">clear_variables</span><span class="p">(</span><span class="bp">self</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; resets to defaults all relevant leap_listener variables&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gesture</span> <span
            class="o">=</span> <span class="p">[[]</span> <span class="o">*</span> <span class="mi">5</span> <span
            class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="mi">600</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span
            class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail_points</span> <span class="o">=</span> <span
            class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span
            class="mi">5</span><span class="p">):</span>
            <span class="n">aux</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([],</span> <span
            class="mi">18</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail_points</span><span
            class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aux</span><span
            class="p">)</span></div>

<div class="viewcode-block" id="leap_listener.on_init"><a class="viewcode-back"
                                                          href="../../controllers.html#controllers.leap_controller.leap_listener.on_init">[docs]</a>    <span
        class="k">def</span> <span class="nf">on_init</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">controller</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; (Leap API) like __init__ method&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cv_frame_XY</span> <span class="o">=</span> <span
            class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span
            class="mi">540</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span
            class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span
            class="n">uint8</span><span class="p">)</span>  <span class="c1"># XY frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cv_frame_XZ</span> <span class="o">=</span> <span
            class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span
            class="mi">540</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span
            class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span
            class="n">uint8</span><span class="p">)</span>  <span class="c1"># XZ frame</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span
            class="n">controller</span><span class="o">.</span><span class="n">frame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">LeapStatus</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span> <span class="o">=</span> <span
            class="n">Mouse</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span
            class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span
            class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span
            class="mi">5</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">capture_frame</span> <span
            class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">recording</span> <span
            class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">vscrolling</span> <span
            class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hscrolling</span> <span
            class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plane_mode</span> <span
            class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deep_mode</span> <span
            class="o">=</span> <span class="kc">False</span>

        <span class="c1"># this all temporary variables, just for testing</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">lim_points</span> <span class="o">=</span> <span class="mi">600</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gesture</span> <span
            class="o">=</span> <span class="p">[[]</span> <span class="o">*</span> <span class="mi">5</span> <span
            class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="n">lim_points</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span
            class="mi">0</span>  <span class="c1"># contador gesture points</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">d01</span> <span class="o">=</span> <span
            class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_frame_c</span> <span
            class="o">=</span> <span class="mi">0</span>  <span class="c1"># contador pitch average (not used)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lim_points</span> <span
            class="o">=</span> <span class="mi">400</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hand_vel</span> <span
            class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fingers_pos</span> <span class="o">=</span> <span
            class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
            class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span
            class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span
            class="mi">5</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fingers_vel</span> <span class="o">=</span> <span
            class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span
            class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="mi">5</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tail_points</span> <span class="o">=</span> <span
            class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">aux</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([],</span> <span
            class="mi">18</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tail_points</span><span
            class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aux</span><span
            class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;initialized&quot;</span><span
            class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">leap_status</span><span class="p">(</span><span
            class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">status</span><span class="o">.</span><span class="n">leap_connected</span>

<div class="viewcode-block" id="leap_listener.on_connect"><a class="viewcode-back"
                                                             href="../../controllers.html#controllers.leap_controller.leap_listener.on_connect">[docs]</a>    <span
        class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">controller</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; (Leap API) Leap device is connected&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;connected&quot;</span><span
            class="p">)</span>

        <span class="n">controller</span><span class="o">.</span><span class="n">enable_gesture</span><span
            class="p">(</span><span class="n">Leap</span><span class="o">.</span><span class="n">Gesture</span><span
            class="o">.</span><span class="n">TYPE_SCREEN_TAP</span><span class="p">)</span>
        <span class="n">controller</span><span class="o">.</span><span class="n">enable_gesture</span><span
            class="p">(</span><span class="n">Leap</span><span class="o">.</span><span class="n">Gesture</span><span
            class="o">.</span><span class="n">TYPE_SWIPE</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">leap_connected</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">emit_leap_connected</span><span class="p">(</span><span class="kc">True</span><span
            class="p">)</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span
            class="o">.</span><span class="mi">5</span><span class="p">)</span></div>

    <span class="c1"># gvariables.main_window.change_leap_status(True)  # label</span>

<div class="viewcode-block" id="leap_listener.on_focus_lost"><a class="viewcode-back"
                                                                href="../../controllers.html#controllers.leap_controller.leap_listener.on_focus_lost">[docs]</a>    <span
        class="k">def</span> <span class="nf">on_focus_lost</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">controller</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; (Leap API) we are using Leap Motion from outside MainWindow&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unfocused&quot;</span><span
            class="p">)</span>
        <span class="n">controller</span><span class="o">.</span><span class="n">add_listener</span><span
            class="p">(</span><span class="n">gvariables</span><span class="o">.</span><span
            class="n">listener</span><span class="p">)</span></div>

<div class="viewcode-block" id="leap_listener.on_disconnect"><a class="viewcode-back"
                                                                href="../../controllers.html#controllers.leap_controller.leap_listener.on_disconnect">[docs]</a>    <span
        class="k">def</span> <span class="nf">on_disconnect</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">controller</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; (Leap API) Leap device is disconnected&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;disconnected&quot;</span><span
            class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">leap_connected</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">emit_leap_connected</span><span class="p">(</span><span class="kc">False</span><span
            class="p">)</span></div>

    <span class="c1"># gvariables.main_window.change_leap_status(False)</span>

<div class="viewcode-block" id="leap_listener.on_exit"><a class="viewcode-back"
                                                          href="../../controllers.html#controllers.leap_controller.leap_listener.on_exit">[docs]</a>    <span
        class="k">def</span> <span class="nf">on_exit</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">controller</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; (Leap API) leap_listener is destroyed&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;exited&quot;</span><span
            class="p">)</span></div>

<div class="viewcode-block" id="leap_listener.leap_to_screen"><a class="viewcode-back"
                                                                 href="../../controllers.html#controllers.leap_controller.leap_listener.leap_to_screen">[docs]</a>    <span
        class="k">def</span> <span class="nf">leap_to_screen</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">leap_x</span><span class="p">,</span> <span
        class="n">leap_y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; translates given Leap coordinates to screen ones</span>

<span class="sd">        :param leap_x: Leap Motion X coordinate</span>
<span class="sd">        :param leap_y: Leap Motion Y coordinate</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="n">LEAP_W</span><span
            class="o">/</span><span class="mi">2</span> <span class="k">if</span> <span class="nb">int</span><span
            class="p">(</span><span class="n">leap_x</span><span class="p">)</span> <span class="o">&lt;</span> <span
            class="o">-</span><span class="n">LEAP_W</span><span class="o">/</span><span class="mi">2</span> <span
            class="k">else</span> <span class="n">leap_x</span>

        <span class="c1"># y invertion</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">LEAP_H</span> <span class="o">-</span> <span
            class="n">leap_y</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">80</span>

        <span class="n">x</span> <span class="o">+=</span> <span class="n">LEAP_W</span> <span class="o">/</span> <span
            class="mi">2</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(((</span><span
            class="n">W</span><span class="o">*</span><span class="mf">1.2</span><span class="p">)</span> <span
            class="o">*</span> <span class="n">x</span><span class="p">)</span><span class="o">/</span><span
            class="p">(</span><span class="n">LEAP_W</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">H</span><span
            class="o">*</span><span class="mf">1.2</span> <span class="o">*</span> <span class="n">y</span><span
            class="p">)</span><span class="o">//</span><span class="n">LEAP_H</span>

        <span class="c1"># print(&quot;L&quot;+str((leap_x,leap_y)))</span>
        <span class="c1"># print((x,y))</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span
            class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span
            class="p">)</span></div>

<div class="viewcode-block" id="leap_listener.on_frame"><a class="viewcode-back"
                                                           href="../../controllers.html#controllers.leap_controller.leap_listener.on_frame">[docs]</a>    <span
        class="k">def</span> <span class="nf">on_frame</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">controller</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; (Leap API) main leap_listener method.</span>
<span class="sd">        loops through each frame captured by Leap Motion device</span>
<span class="sd">        -&gt; opencv representation handling</span>
<span class="sd">        -&gt; complex gestures</span>
<span class="sd">        -&gt; simple gestures + actions</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span
            class="n">controller</span><span class="o">.</span><span class="n">frame</span><span class="p">()</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">frame</span>

        <span class="c1"># opencv canvas</span>
        <span class="n">cv_frame_loc_XY</span> <span class="o">=</span> <span class="n">np</span><span
            class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">540</span><span
            class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">3</span><span
            class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span
            class="p">)</span>  <span class="c1"># XY frame</span>
        <span class="n">cv_frame_loc_XZ</span> <span class="o">=</span> <span class="n">np</span><span
            class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">540</span><span
            class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">3</span><span
            class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span
            class="p">)</span>  <span class="c1"># XZ frame</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span
            class="o">.</span><span class="n">hands</span><span class="p">)</span> <span class="o">==</span> <span
            class="mi">2</span> <span class="ow">or</span> \
           <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span
            class="o">.</span><span class="n">hands</span><span class="p">)</span> <span class="o">==</span> <span
            class="mi">1</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span
            class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">fingers</span><span
            class="o">.</span><span class="n">extended</span><span class="p">())</span> <span class="o">==</span> <span
            class="mi">0</span> <span class="ow">or</span> \
           <span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span
            class="n">fingers</span><span class="o">.</span><span class="n">extended</span><span
            class="p">())</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span
            class="n">frame</span><span class="o">.</span><span class="n">fingers</span><span class="o">.</span><span
            class="n">extended</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span
            class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">0</span><span
            class="p">)):</span>
            <span class="c1"># two hands if frame</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">can_record</span> <span
            class="o">=</span> <span class="kc">True</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span
            class="p">(</span><span class="n">cv_frame_loc_XY</span><span class="p">,</span> <span class="s2">&quot;Two hands in frame&quot;</span><span
            class="p">,</span>
                        <span class="p">(</span><span class="mi">190</span><span class="p">,</span> <span
            class="n">H</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span
            class="mi">50</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span
            class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
                        <span class="mf">0.8</span><span class="p">,</span> <span class="p">(</span><span
            class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span
            class="mi">255</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span
            class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">)</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span
            class="n">cv_frame_loc_XY</span><span class="p">,</span> <span class="p">(</span><span
            class="n">H</span><span class="o">/</span><span class="mi">4</span> <span class="o">+</span> <span
            class="mi">50</span><span class="p">,</span> <span class="n">W</span><span class="o">/</span><span
            class="mi">6</span> <span class="o">-</span> <span class="mi">50</span><span class="p">),</span> <span
            class="mi">100</span><span class="p">,</span> <span class="p">[</span><span class="mi">255</span><span
            class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
            class="p">],</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span
            class="p">(</span><span class="n">cv_frame_loc_XZ</span><span class="p">,</span> <span class="s2">&quot;Two hands in frame&quot;</span><span
            class="p">,</span>
                        <span class="p">(</span><span class="mi">190</span><span class="p">,</span> <span
            class="n">H</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span
            class="mi">50</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span
            class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
                        <span class="mf">0.8</span><span class="p">,</span> <span class="p">(</span><span
            class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span
            class="mi">255</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span
            class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">)</span>
            <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span
            class="n">cv_frame_loc_XZ</span><span class="p">,</span> <span class="p">(</span><span
            class="n">H</span><span class="o">/</span><span class="mi">4</span> <span class="o">+</span> <span
            class="mi">50</span><span class="p">,</span> <span class="n">W</span><span class="o">/</span><span
            class="mi">6</span> <span class="o">-</span> <span class="mi">50</span><span class="p">),</span> <span
            class="mi">100</span><span class="p">,</span> <span class="p">[</span><span class="mi">255</span><span
            class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
            class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">can_record</span> <span
            class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">hand</span> <span class="ow">in</span> <span
            class="n">frame</span><span class="o">.</span><span class="n">hands</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hand</span><span class="o">.</span><span class="n">is_right</span><span
            class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hand_vel</span> <span
            class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span
            class="p">(</span><span class="n">hand</span><span class="o">.</span><span
            class="n">palm_velocity</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                    <span class="nb">abs</span><span class="p">(</span><span class="n">hand</span><span
            class="o">.</span><span class="n">palm_velocity</span><span class="p">[</span><span class="mi">1</span><span
            class="p">]),</span>
                                    <span class="nb">abs</span><span class="p">(</span><span class="n">hand</span><span
            class="o">.</span><span class="n">palm_velocity</span><span class="p">[</span><span class="mi">2</span><span
            class="p">]))</span>

                <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span
            class="n">cv_frame_loc_XY</span><span class="p">,</span> <span class="s2">&quot;X to Y representation (vertical plane)&quot;</span><span
            class="p">,</span>
                            <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span
            class="n">H</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span
            class="mi">50</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span
            class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
                            <span class="mf">0.8</span><span class="p">,</span> <span class="p">(</span><span
            class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span
            class="mi">255</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span
            class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">)</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span
            class="n">cv_frame_loc_XZ</span><span class="p">,</span> <span class="s2">&quot;X to Z representation (horizontal plane)&quot;</span><span
            class="p">,</span>
                            <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span
            class="n">H</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span
            class="mi">50</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span
            class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
                            <span class="mf">0.8</span><span class="p">,</span> <span class="p">(</span><span
            class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span
            class="mi">255</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span
            class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">)</span>

                <span class="c1"># one hand into frame</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">active</span> <span
            class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">recording</span><span class="p">:</span>

                    <span class="sd">&quot;&quot;&quot; CURSOR MOVEMENT SECTION&quot;&quot;&quot;</span>
                    <span class="c1"># TODO:</span>
                    <span class="c1">#   -&gt; perform coords translation</span>
                    <span class="c1">#   -&gt; add movement velocity ?</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">switch_mode</span><span class="p">:</span>
                        <span class="n">mm_finger</span> <span class="o">=</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">configuration</span><span class="o">.</span><span
            class="n">basic</span><span class="o">.</span><span class="n">mm</span>
                        <span class="n">fx</span><span class="p">,</span> <span class="n">fy</span> <span
            class="o">=</span> <span class="n">hand</span><span class="o">.</span><span class="n">fingers</span><span
            class="p">[</span><span class="n">mm_finger</span><span class="p">]</span><span class="o">.</span><span
            class="n">tip_position</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> \
                                 <span class="n">hand</span><span class="o">.</span><span class="n">fingers</span><span
            class="p">[</span><span class="n">mm_finger</span><span class="p">]</span><span class="o">.</span><span
            class="n">tip_position</span><span class="o">.</span><span class="n">y</span>
                        <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">leap_to_screen</span><span
            class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span
            class="p">)</span>

                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">xdir</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span
            class="n">sx</span> <span class="o">&gt;</span> <span class="n">W</span><span class="o">/</span><span
            class="mi">2</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">ydir</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span
            class="nb">abs</span><span class="p">(</span><span class="n">sy</span><span class="p">)</span> <span
            class="o">&lt;</span> <span class="n">H</span><span class="o">/</span><span class="mi">2</span> <span
            class="k">else</span> <span class="o">-</span><span class="mi">1</span>

                        <span class="n">win32api</span><span class="o">.</span><span class="n">SetCursorPos</span><span
            class="p">((</span>
                            <span class="c1"># int(abs(self.fingers_pos[mm_finger][0])),   # x</span>
                            <span class="c1"># int(abs(self.fingers_pos[mm_finger][1]))    # y</span>
                            <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span>
                        <span class="p">))</span>

                        <span class="c1"># updating mouse object position</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span
            class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">fingers_pos</span><span class="p">[</span><span class="n">mm_finger</span><span
            class="p">][</span><span class="mi">0</span><span class="p">]))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span
            class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">fingers_pos</span><span class="p">[</span><span class="n">mm_finger</span><span
            class="p">][</span><span class="mi">1</span><span class="p">]))</span>

                    <span class="c1"># INTERACTION modes</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">deep_mode</span><span
            class="p">:</span>
                        <span class="n">finger1</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">fingers</span><span class="p">[</span><span class="mi">1</span><span
            class="p">]</span>
                        <span class="n">f1_pos</span> <span class="o">=</span> <span class="n">finger1</span><span
            class="o">.</span><span class="n">tip_position</span>
                        <span class="sd">&quot;&quot;&quot;print(f1_pos.z)</span>
<span class="sd">                        </span>
<span class="sd">                        x, y = self.leap_to_screen(f1_pos.x, f1_pos.y)</span>
<span class="sd">                        </span>
<span class="sd">                        # mouse movement:</span>
<span class="sd">                        self.mouse.xdir = 1 if x &gt; W/2 else -1</span>
<span class="sd">                        self.mouse.ydir = 1 if abs(y) &lt; H/2 else -1</span>
<span class="sd">                        win32api.SetCursorPos((int(abs(x)+self.mouse.xdir),</span>
<span class="sd">                                               int(abs(y))+self.mouse.ydir))</span>
<span class="sd">                        self.mouse.x, self.mouse.y = int(abs(x)), int(abs(y))&quot;&quot;&quot;</span>

                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">plane_mode</span><span
            class="p">:</span>
                        <span class="n">f0</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">fingers</span><span class="p">[</span><span class="mi">0</span><span
            class="p">]</span>
                        <span class="n">f1</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">fingers</span><span class="p">[</span><span class="mi">1</span><span
            class="p">]</span>
                        <span class="n">f2</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">fingers</span><span class="p">[</span><span class="mi">2</span><span
            class="p">]</span>
                        <span class="n">dist_0_1</span> <span class="o">=</span> <span class="n">distance</span><span
            class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">f1</span><span
            class="o">.</span><span class="n">tip_position</span><span class="o">.</span><span class="n">x</span><span
            class="p">,</span> <span class="n">f1</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">z</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span
            class="p">),</span>
                                            <span class="n">Point</span><span class="p">(</span><span
            class="n">f0</span><span class="o">.</span><span class="n">tip_position</span><span class="o">.</span><span
            class="n">x</span><span class="p">,</span> <span class="n">f0</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">z</span><span class="p">,</span>
                                            <span class="o">-</span><span class="mi">1</span><span class="p">))</span>  <span
            class="c1"># this works better on XZ plane</span>
                        <span class="n">dist_1_2</span> <span class="o">=</span> <span class="n">distance_3d</span><span
            class="p">(</span><span class="n">f1</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">f1</span><span class="o">.</span><span
            class="n">tip_position</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span
            class="n">f1</span><span class="o">.</span><span class="n">tip_position</span><span class="o">.</span><span
            class="n">z</span><span class="p">,</span>
                                               <span class="n">f2</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">f2</span><span class="o">.</span><span
            class="n">tip_position</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span
            class="n">f2</span><span class="o">.</span><span class="n">tip_position</span><span class="o">.</span><span
            class="n">z</span><span class="p">)</span>

                        <span class="n">roll</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span
            class="n">hand</span><span class="o">.</span><span class="n">palm_normal</span><span class="o">.</span><span
            class="n">roll</span> <span class="o">*</span> <span class="n">Leap</span><span class="o">.</span><span
            class="n">RAD_TO_DEG</span><span class="p">)</span>
                        <span class="n">yaw</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">yaw</span> <span
            class="o">*</span> <span class="n">Leap</span><span class="o">.</span><span class="n">RAD_TO_DEG</span>
                        <span class="n">pitch</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">pitch</span> <span
            class="o">*</span> <span class="n">Leap</span><span class="o">.</span><span class="n">RAD_TO_DEG</span>

                        <span class="sd">&quot;&quot;&quot; SWITCH WINDOWS SECTION&quot;&quot;&quot;</span>
                        <span class="c1"># TODO:</span>
                        <span class="c1">#   -&gt; utf-8 / latin-2</span>
                        <span class="c1">#   -&gt; improve swipe</span>
                        <span class="c1"># angle between X and Y (Z rotations)</span>
                        <span class="k">if</span> <span class="n">roll</span> <span class="o">&gt;</span> <span
            class="mi">50</span><span class="p">:</span>
                            <span class="c1"># we are into switch mode</span>

                            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">switch_mode</span><span class="p">:</span>
                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;into of SwitchMode&quot;</span><span
            class="p">)</span>
                                <span class="n">hold</span><span class="p">(</span><span
            class="s2">&quot;alt&quot;</span><span class="p">)</span>
                                <span class="n">press</span><span class="p">(</span><span
            class="s2">&quot;tab&quot;</span><span class="p">)</span>

                                <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switch_mode</span> <span class="o">=</span> <span class="kc">True</span>

                            <span class="n">direction</span> <span class="o">=</span> <span class="nb">int</span><span
            class="p">(</span><span class="n">yaw</span><span class="o">/</span><span class="nb">abs</span><span
            class="p">(</span><span class="n">yaw</span><span class="p">))</span>
                            <span class="k">if</span> <span class="n">hand</span><span class="o">.</span><span
            class="n">palm_velocity</span><span class="o">.</span><span class="n">x</span> <span
            class="o">&gt;</span> <span class="mi">150</span> <span class="ow">and</span> <span
            class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switching</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switching</span> <span class="o">=</span> <span class="kc">True</span>
                                <span class="c1">#aux = get_current_window_name()</span>
                                <span class="k">if</span> <span class="n">direction</span> <span
            class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;right SWIPE&quot;</span><span
            class="p">)</span>
                                    <span class="n">press</span><span class="p">(</span><span class="s2">&quot;right_arrow&quot;</span><span
            class="p">)</span>
                                    <span class="c1"># pressHoldRelease2([&quot;alt&quot;, &quot;tab&quot;, &quot;right_arrow&quot;], 1)</span>
                                    <span class="sd">&quot;&quot;&quot;if curr_window_index == len(opened_windows_names) - 1:</span>
<span class="sd">                                    curr_window_index = 0</span>
<span class="sd">                                    name = opened_windows_names[curr_window_index+1]&quot;&quot;&quot;</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;left SWIPE&quot;</span><span
            class="p">)</span>
                                    <span class="n">press</span><span class="p">(</span><span class="s2">&quot;left_arrow&quot;</span><span
            class="p">)</span>
                                    <span class="sd">&quot;&quot;&quot;if curr_window_index == 1:  # always Start it&#39;s the first one in list(0) (Windows only?)</span>
<span class="sd">                                    curr_window_index = len(opened_windows_names)-1</span>
<span class="sd">                                    name = opened_windows_names[curr_window_index-1]&quot;&quot;&quot;</span>

                                <span class="c1"># bring_window_to_top(win32gui.FindWindow(None, name))</span>
                                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span
            class="p">(</span><span class="o">.</span><span class="mi">4</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switching</span> <span class="o">=</span> <span class="kc">False</span>

                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">switch_mode</span><span class="p">:</span>
                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;out of SwitchMode&quot;</span><span
            class="p">)</span>
                                <span class="n">release</span><span class="p">(</span><span
            class="s2">&quot;alt&quot;</span><span class="p">)</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switch_mode</span> <span class="o">=</span> <span class="kc">False</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switching</span> <span class="o">=</span> <span class="kc">False</span>

                            <span class="c1"># powrpointt</span>
                            <span class="n">f_frontmost</span> <span class="o">=</span> <span
            class="n">frame</span><span class="o">.</span><span class="n">fingers</span><span class="o">.</span><span
            class="n">extended</span><span class="p">()</span><span class="o">.</span><span
            class="n">frontmost</span><span class="o">.</span><span class="n">type</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span
            class="n">frame</span><span class="o">.</span><span class="n">fingers</span><span class="o">.</span><span
            class="n">extended</span><span class="p">())</span> <span class="o">==</span> <span
            class="mi">5</span> <span class="ow">and</span> <span class="s2">&quot;PowerPoint&quot;</span> <span
            class="ow">in</span> <span class="n">get_current_window_name</span><span class="p">():</span>
                                <span class="n">direction</span> <span class="o">=</span> <span
            class="nb">int</span><span class="p">(</span><span class="n">yaw</span> <span class="o">/</span> <span
            class="nb">abs</span><span class="p">(</span><span class="n">yaw</span><span class="p">))</span>
                                <span class="k">if</span> <span class="n">f1</span><span class="o">.</span><span
            class="n">tip_velocity</span><span class="o">.</span><span class="n">x</span> <span
            class="o">&gt;</span> <span class="mi">200</span> <span class="ow">and</span> <span
            class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switching</span><span class="p">:</span>
                                    <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">switching</span> <span
            class="o">=</span> <span class="kc">True</span>
                                    <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span
            class="mi">1</span><span class="p">:</span>
                                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RIGHT swipe&quot;</span><span
            class="p">)</span>
                                        <span class="n">press</span><span class="p">(</span><span class="s2">&quot;right_arrow&quot;</span><span
            class="p">)</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;LEFT swipe&quot;</span><span
            class="p">)</span>
                                        <span class="n">press</span><span class="p">(</span><span class="s2">&quot;left_arrow&quot;</span><span
            class="p">)</span>

                                <span class="k">else</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="n">f1</span><span class="o">.</span><span
            class="n">tip_velocity</span><span class="o">.</span><span class="n">x</span> <span
            class="o">&lt;</span> <span class="mi">30</span><span class="p">:</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switching</span> <span class="o">=</span> <span class="kc">False</span>

                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">vscrolling</span><span class="p">:</span>
                                <span class="sd">&quot;&quot;&quot; VSCROLL SECTION&quot;&quot;&quot;</span>
                                <span class="c1"># TODO:</span>
                                <span class="c1">#   -&gt; choose speed</span>
                                <span class="c1">#   -&gt; speed increasing with angle</span>
                                <span class="k">if</span> <span class="s2">&quot;UD&quot;</span> <span
            class="ow">in</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">vscroll</span><span class="p">:</span>
                                    <span class="n">n_fingers</span> <span class="o">=</span> <span
            class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">c</span><span
            class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">vscroll</span>
                                                 <span class="k">if</span> <span class="n">c</span><span
            class="o">.</span><span class="n">isdigit</span><span class="p">()][</span><span class="mi">0</span><span
            class="p">]</span>
                                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span
            class="n">frame</span><span class="o">.</span><span class="n">fingers</span><span class="o">.</span><span
            class="n">extended</span><span class="p">())</span> <span class="o">==</span> <span
            class="n">n_fingers</span><span class="p">:</span>
                                        <span class="c1"># angle between Z and Y (X rotations)</span>
                                        <span class="n">pitch</span> <span class="o">=</span> <span
            class="n">hand</span><span class="o">.</span><span class="n">direction</span><span class="o">.</span><span
            class="n">pitch</span> <span class="o">*</span> <span class="n">Leap</span><span class="o">.</span><span
            class="n">RAD_TO_DEG</span>
                                        <span class="k">if</span> <span class="n">pitch</span> <span
            class="o">&lt;</span> <span class="o">-</span><span class="mi">13</span><span class="p">:</span>
                                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;vscroll down&quot;</span><span
            class="p">)</span>
                                            <span class="n">vel</span> <span class="o">=</span> <span class="o">-</span><span
            class="nb">int</span><span class="p">(</span><span class="mi">40</span> <span class="o">-</span> <span
            class="p">((</span><span class="mi">90</span> <span class="o">-</span> <span class="nb">abs</span><span
            class="p">(</span><span class="n">pitch</span><span class="p">))</span><span class="o">/</span><span
            class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">17</span><span
            class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">vscroll</span><span class="p">(</span><span
            class="n">vel</span><span class="p">)</span>

                                        <span class="k">elif</span> <span class="n">pitch</span> <span
            class="o">&gt;</span> <span class="mi">47</span><span class="p">:</span>
                                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;vscroll up&quot;</span><span
            class="p">)</span>
                                            <span class="n">vel</span> <span class="o">=</span> <span
            class="nb">int</span><span class="p">(</span><span class="mi">30</span> <span class="o">-</span> <span
            class="p">((</span><span class="mi">90</span> <span class="o">-</span> <span class="n">pitch</span><span
            class="p">)</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span
            class="mi">17</span><span class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">vscroll</span><span class="p">(</span><span
            class="n">vel</span><span class="p">)</span>

                                <span class="k">else</span><span class="p">:</span>
                                    <span class="n">n_fingers</span> <span class="o">=</span> <span
            class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">c</span><span
            class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">vscroll</span>
                                                 <span class="k">if</span> <span class="n">c</span><span
            class="o">.</span><span class="n">isdigit</span><span class="p">()][</span><span class="mi">0</span><span
            class="p">]</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="n">yaw</span><span
            class="p">)</span>
                                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span
            class="n">frame</span><span class="o">.</span><span class="n">fingers</span><span class="o">.</span><span
            class="n">extended</span><span class="p">())</span> <span class="o">==</span> <span
            class="n">n_fingers</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="n">yaw</span> <span class="o">&lt;</span> <span
            class="o">-</span><span class="mi">30</span><span class="p">:</span>
                                            <span class="n">vel</span> <span class="o">=</span> <span class="o">-</span><span
            class="nb">int</span><span class="p">(</span><span class="mi">40</span> <span class="o">-</span> <span
            class="p">((</span><span class="mi">90</span> <span class="o">-</span> <span class="nb">abs</span><span
            class="p">(</span><span class="n">pitch</span><span class="p">))</span> <span class="o">/</span> <span
            class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">17</span><span
            class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">vscroll</span><span class="p">(</span><span
            class="n">vel</span><span class="p">)</span>

                                        <span class="k">elif</span> <span class="n">yaw</span> <span
            class="o">&gt;</span> <span class="mi">9</span><span class="p">:</span>
                                            <span class="n">vel</span> <span class="o">=</span> <span
            class="nb">int</span><span class="p">(</span><span class="mi">30</span> <span class="o">-</span> <span
            class="p">((</span><span class="mi">90</span> <span class="o">-</span> <span class="n">pitch</span><span
            class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span
            class="o">+</span> <span class="mi">17</span><span class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">vscroll</span><span class="p">(</span><span
            class="n">vel</span><span class="p">)</span>

                                <span class="c1"># horizontal scroll ??</span>
                                <span class="c1"># angle between Z and X (Y rotations)</span>
                                <span class="n">roll</span> <span class="o">=</span> <span class="n">hand</span><span
            class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">roll</span> <span
            class="o">*</span> <span class="n">Leap</span><span class="o">.</span><span class="n">RAD_TO_DEG</span>
                                <span class="n">keyboard</span> <span class="o">=</span> <span
            class="n">Controller</span><span class="p">()</span>
                                <span class="k">if</span> <span class="n">roll</span> <span class="o">&lt;</span> <span
            class="o">-</span><span class="mi">50</span><span class="p">:</span>
                                    <span class="sd">&quot;&quot;&quot;print(&quot;hscroll down&quot;)</span>
<span class="sd">                                    keyboard.press(Key.ctrl)</span>
<span class="sd">                                    keyboard.press(&quot;s&quot;)&quot;&quot;&quot;</span>

                                <span class="k">elif</span> <span class="n">roll</span> <span
            class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
                                    <span class="sd">&quot;&quot;&quot;print(&quot;hscroll up&quot;)</span>
<span class="sd">                                    cx, cy = win32api.GetCursorPos()</span>
<span class="sd">                                    vel = int(30-((90-pitch)/3))</span>
<span class="sd">                                    win32api.mouse_event(win32con.EVENTF_WHEEL, cx, cy, vel, 0)&quot;&quot;&quot;</span>

                            <span class="sd">&quot;&quot;&quot; GRAB SECTION&quot;&quot;&quot;</span>
                            <span class="c1"># TODO:</span>
                            <span class="c1">#   -&gt; add</span>
                            <span class="c1">#       -&gt; f2 down</span>
                            <span class="c1">#       -&gt; f2 and f3 down</span>
                            <span class="c1">#       -&gt; 45 degrees yaw</span>
                            <span class="c1">#   -&gt; same as planem click?</span>
                            <span class="k">if</span> <span class="n">dist_1_2</span> <span class="o">&lt;</span> <span
            class="mf">5.8</span><span class="p">:</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span> <span class="ow">and</span> <span class="ow">not</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_pressed</span><span class="p">:</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;grabbed&quot;</span><span
            class="p">)</span>
                                    <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">grabbing</span> <span class="o">=</span> <span
            class="kc">True</span>
                                    <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span
            class="o">=</span> <span class="n">win32api</span><span class="o">.</span><span
            class="n">GetCursorPos</span><span class="p">()</span>
                                    <span class="n">win32api</span><span class="o">.</span><span
            class="n">mouse_event</span><span class="p">(</span><span class="n">win32con</span><span
            class="o">.</span><span class="n">MOUSEEVENTF_LEFTDOWN</span><span class="p">,</span>
                                                         <span class="n">cx</span><span class="p">,</span> <span
            class="n">cy</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span
            class="mi">0</span><span class="p">)</span>
                                    <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_pressed</span> <span
            class="o">=</span> <span class="kc">True</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_pressed</span><span class="p">:</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ungrabbed&quot;</span><span
            class="p">)</span>
                                    <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">grabbing</span> <span class="o">=</span> <span
            class="kc">False</span>
                                    <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span
            class="o">=</span> <span class="n">win32api</span><span class="o">.</span><span
            class="n">GetCursorPos</span><span class="p">()</span>
                                    <span class="c1"># time.sleep(.2)</span>
                                    <span class="n">win32api</span><span class="o">.</span><span
            class="n">mouse_event</span><span class="p">(</span><span class="n">win32con</span><span
            class="o">.</span><span class="n">MOUSEEVENTF_LEFTUP</span><span class="p">,</span>
                                                         <span class="n">cx</span><span class="p">,</span> <span
            class="n">cy</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span
            class="mi">0</span><span class="p">)</span>
                                    <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_pressed</span> <span
            class="o">=</span> <span class="kc">False</span>

                            <span class="sd">&quot;&quot;&quot; LEFT CLICK SECTION&quot;&quot;&quot;</span>
                            <span class="c1"># TODO:</span>
                            <span class="c1">#   -&gt; add</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">switching</span><span
            class="p">:</span>
                                <span class="c1"># lclick plane_mode</span>
                                <span class="c1"># for keep performance when hand pitch (X rotations) &gt;&gt;</span>
                                <span class="k">if</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">lclick</span> <span class="o">==</span> <span class="s2">&quot;click_planem&quot;</span><span
            class="p">:</span>

                                    <span class="n">lim</span> <span class="o">=</span> <span class="mi">80</span> <span
            class="o">-</span> <span class="mi">15</span><span class="o">*</span><span class="nb">abs</span><span
            class="p">(</span><span class="n">pitch</span><span class="p">)</span><span class="o">//</span><span
            class="mi">35</span>
                                    <span class="n">lim</span> <span class="o">-=</span> <span class="mi">2</span> <span
            class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">ydir</span> <span class="o">==</span> <span class="o">-</span><span
            class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
                                    <span class="nb">print</span><span class="p">(</span><span
            class="nb">str</span><span class="p">(</span><span class="n">dist_0_1</span><span class="p">)</span><span
            class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span
            class="nb">str</span><span class="p">(</span><span class="n">lim</span><span class="p">))</span>
                                    <span class="k">if</span> <span class="n">dist_0_1</span> <span
            class="o">&lt;</span> <span class="n">lim</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="ow">not</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span> <span class="ow">and</span> \
                                           <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_pressed</span> <span class="ow">and</span> \
                                           <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">grabbing</span><span
            class="p">:</span>
                                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span
            class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">True</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">lclick</span><span class="p">()</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="bp">self</span><span class="o">.</span><span
            class="n">d01</span> <span class="o">=</span> <span class="n">dist_0_1</span>
                                        <span class="k">if</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">False</span>

                                <span class="c1"># lclick deep_mode</span>
                                <span class="k">elif</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">configuration</span><span class="o">.</span><span
            class="n">basic</span><span class="o">.</span><span class="n">lclick</span> <span class="o">==</span> <span
            class="s2">&quot;click_deepm&quot;</span><span class="p">:</span>
                                    <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;!&quot;</span><span class="p">)</span>
                                    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span
            class="n">f1</span><span class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span
            class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">300</span> <span
            class="ow">and</span> \
                                            <span class="n">f1</span><span class="o">.</span><span class="n">tip_velocity</span><span
            class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span
            class="ow">and</span> \
                                            <span class="nb">abs</span><span class="p">(</span><span class="n">f1</span><span
            class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span><span
            class="p">)</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="ow">not</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span
            class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">True</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">lclick</span><span class="p">()</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">False</span>

                                <span class="c1"># lclick f1_down</span>
                                <span class="k">elif</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">configuration</span><span class="o">.</span><span
            class="n">basic</span><span class="o">.</span><span class="n">lclick</span> <span class="o">==</span> <span
            class="s2">&quot;click_f2down&quot;</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span
            class="n">f2</span><span class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span
            class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">300</span> <span
            class="ow">and</span> \
                                            <span class="n">f2</span><span class="o">.</span><span class="n">tip_velocity</span><span
            class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span
            class="ow">and</span> \
                                            <span class="nb">abs</span><span class="p">(</span><span class="n">f0</span><span
            class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span><span
            class="p">)</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="ow">not</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span
            class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">True</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">lclick</span><span class="p">()</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">False</span>

                                <span class="k">elif</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">configuration</span><span class="o">.</span><span
            class="n">basic</span><span class="o">.</span><span class="n">lclick</span> <span class="o">==</span> <span
            class="s2">&quot;click_f1down&quot;</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span
            class="n">f1</span><span class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span
            class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">300</span> <span
            class="ow">and</span> \
                                            <span class="n">f1</span><span class="o">.</span><span class="n">tip_velocity</span><span
            class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span
            class="ow">and</span> \
                                            <span class="nb">abs</span><span class="p">(</span><span class="n">f0</span><span
            class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span><span
            class="p">)</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="ow">not</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span
            class="p">)</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">True</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">lclick</span><span class="p">()</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">left_clicked</span> <span
            class="o">=</span> <span class="kc">False</span>

                                <span class="sd">&quot;&quot;&quot; RIGHT CLICK SECTION&quot;&quot;&quot;</span>
                                <span class="c1"># TODO:</span>
                                <span class="c1">#   -&gt; add</span>
                                <span class="k">if</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">rclick</span> <span class="o">==</span> <span class="s2">&quot;rclick_f2down&quot;</span><span
            class="p">:</span>
                                    <span class="k">if</span> <span class="n">f2</span><span class="o">.</span><span
            class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span> <span
            class="o">&lt;</span> <span class="o">-</span><span class="mi">90</span> <span class="ow">and</span> \
                                       <span class="nb">abs</span><span class="p">(</span><span class="n">f1</span><span
            class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span><span
            class="p">)</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="ow">and</span> \
                                       <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">right_clicked</span> <span class="ow">and</span> \
                                       <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rclick&quot;</span><span
            class="p">)</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">right_clicked</span> <span class="o">=</span> <span class="kc">True</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">rclick</span><span class="p">()</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">right_clicked</span><span class="p">:</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">right_clicked</span> <span class="o">=</span> <span
            class="kc">False</span>

                                <span class="k">elif</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">configuration</span><span class="o">.</span><span
            class="n">basic</span><span class="o">.</span><span class="n">rclick</span> <span class="o">==</span> <span
            class="s2">&quot;rclick_f1down&quot;</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="n">f1</span><span class="o">.</span><span
            class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span> <span
            class="o">&lt;</span> <span class="o">-</span><span class="mi">90</span> <span class="ow">and</span> \
                                       <span class="nb">abs</span><span class="p">(</span><span class="n">f2</span><span
            class="o">.</span><span class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span><span
            class="p">)</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="ow">and</span> \
                                       <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">right_clicked</span> <span class="ow">and</span> \
                                       <span class="ow">not</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">left_clicked</span><span class="p">:</span>
                                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rclick&quot;</span><span
            class="p">)</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">right_clicked</span> <span class="o">=</span> <span class="kc">True</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">rclick</span><span class="p">()</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="k">if</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span
            class="n">right_clicked</span><span class="p">:</span>
                                            <span class="bp">self</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">right_clicked</span> <span class="o">=</span> <span
            class="kc">False</span>

                <span class="k">for</span> <span class="n">finger</span> <span class="ow">in</span> <span
            class="n">hand</span><span class="o">.</span><span class="n">fingers</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fingers_vel</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span><span
            class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span
            class="nb">abs</span><span class="p">(</span><span class="n">finger</span><span class="o">.</span><span
            class="n">tip_velocity</span><span class="o">.</span><span class="n">x</span><span class="p">),</span> <span
            class="nb">abs</span><span class="p">(</span><span class="n">finger</span><span class="o">.</span><span
            class="n">tip_velocity</span><span class="o">.</span><span class="n">y</span><span class="p">),</span>
                                                        <span class="nb">abs</span><span class="p">(</span><span
            class="n">finger</span><span class="o">.</span><span class="n">tip_velocity</span><span
            class="o">.</span><span class="n">z</span><span class="p">))</span>
                    <span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span
            class="n">fz</span> <span class="o">=</span> <span class="n">finger</span><span class="o">.</span><span
            class="n">tip_position</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span
            class="n">finger</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">finger</span><span
            class="o">.</span><span class="n">tip_position</span><span class="o">.</span><span class="n">z</span>
                    <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">leap_to_screen</span><span
            class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span
            class="p">)</span>

                    <span class="k">if</span> <span class="n">distance</span><span class="p">(</span><span class="n">Point</span><span
            class="p">(</span><span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span
            class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span
            class="n">Point</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">fingers_pos</span><span class="p">[</span><span class="n">finger</span><span
            class="o">.</span><span class="n">type</span><span class="p">][</span><span class="mi">0</span><span
            class="p">],</span>
                                                         <span class="bp">self</span><span class="o">.</span><span
            class="n">fingers_pos</span><span class="p">[</span><span class="n">finger</span><span
            class="o">.</span><span class="n">type</span><span class="p">][</span><span class="mi">1</span><span
            class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span
            class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fingers_pos</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span><span
            class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sx</span><span
            class="p">,</span> <span class="n">sy</span><span class="p">,</span> <span class="n">fz</span><span
            class="p">)</span>

                    <span class="sd">&quot;&quot;&quot; OPENCV DRAWING SECTION&quot;&quot;&quot;</span>
                    <span class="c1"># TODO:</span>
                    <span class="c1">#   -&gt; different appearances</span>
                    <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span
            class="p">(</span><span class="n">cv_frame_loc_XY</span><span class="p">,</span> <span
            class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">fx</span><span
            class="p">)</span> <span class="o">+</span> <span class="mi">250</span><span class="p">,</span> <span
            class="nb">int</span><span class="p">(</span><span class="n">H</span> <span class="o">/</span> <span
            class="mi">2</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span
            class="n">fy</span><span class="p">))),</span> <span class="mi">11</span><span class="p">,</span> <span
            class="p">[</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span
            class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="mi">1</span><span
            class="p">)</span>
                    <span class="k">if</span> <span class="n">finger</span><span class="o">.</span><span
            class="n">type</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">cv2</span><span class="o">.</span><span class="n">line</span><span
            class="p">(</span><span class="n">cv_frame_loc_XY</span><span class="p">,</span>
                                 <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span
            class="n">fx</span><span class="p">)</span> <span class="o">+</span> <span class="mi">250</span><span
            class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">H</span> <span
            class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="nb">abs</span><span
            class="p">(</span><span class="n">fy</span><span class="p">))),</span>
                                 <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span
            class="n">hand</span><span class="o">.</span><span class="n">fingers</span><span class="p">[</span><span
            class="n">finger</span><span class="o">.</span><span class="n">type</span> <span class="o">-</span> <span
            class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span
            class="mi">250</span><span class="p">,</span>
                                  <span class="nb">int</span><span class="p">(</span><span class="n">H</span> <span
            class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="nb">abs</span><span
            class="p">(</span><span class="n">hand</span><span class="o">.</span><span class="n">fingers</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span> <span
            class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">y</span><span class="p">))),</span>
                                 <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span
            class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span
            class="mi">1</span><span class="p">)</span>
                        <span class="n">cv2</span><span class="o">.</span><span class="n">line</span><span
            class="p">(</span><span class="n">cv_frame_loc_XZ</span><span class="p">,</span>
                                 <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span
            class="n">fx</span><span class="p">)</span> <span class="o">+</span> <span class="mi">250</span><span
            class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">sign</span><span
            class="p">(</span><span class="n">fz</span><span class="p">)</span> <span class="o">*</span> <span
            class="n">fz</span><span class="p">)</span> <span class="o">+</span> <span class="mi">220</span><span
            class="p">),</span>
                                 <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span
            class="n">hand</span><span class="o">.</span><span class="n">fingers</span><span class="p">[</span><span
            class="n">finger</span><span class="o">.</span><span class="n">type</span> <span class="o">-</span> <span
            class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tip_position</span><span
            class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span
            class="mi">250</span><span class="p">,</span>
                                  <span class="nb">int</span><span class="p">(</span><span class="mi">220</span> <span
            class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">hand</span><span
            class="o">.</span><span class="n">fingers</span><span class="p">[</span><span class="n">finger</span><span
            class="o">.</span><span class="n">type</span> <span class="o">-</span> <span class="mi">1</span><span
            class="p">]</span><span class="o">.</span><span class="n">tip_position</span><span class="o">.</span><span
            class="n">z</span><span class="p">))),</span>
                                 <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span
            class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span
            class="mi">1</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">tail_points</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span><span
            class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span
            class="n">fx</span><span class="p">)</span> <span class="o">+</span> <span class="mi">250</span><span
            class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">H</span><span
            class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nb">abs</span><span
            class="p">(</span><span class="n">fy</span><span class="p">)),</span>
                         <span class="mi">220</span> <span class="o">+</span> <span class="n">sign</span><span
            class="p">(</span><span class="n">fz</span><span class="p">)</span> <span class="o">*</span> <span
            class="nb">int</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span
            class="n">fz</span><span class="p">)))</span>
                    <span class="p">)</span>

                    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">tail_points</span><span class="p">[</span><span
            class="n">finger</span><span class="o">.</span><span class="n">type</span><span class="p">]:</span>
                        <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span
            class="p">(</span><span class="n">cv_frame_loc_XY</span><span class="p">,</span> <span
            class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">point</span><span
            class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span
            class="p">(</span><span class="n">point</span><span class="p">[</span><span class="mi">1</span><span
            class="p">])),</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span
            class="mi">205</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span
            class="mi">205</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="n">cv2</span><span class="o">.</span><span class="n">circle</span><span
            class="p">(</span><span class="n">cv_frame_loc_XZ</span><span class="p">,</span> <span
            class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">point</span><span
            class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span
            class="p">(</span><span class="n">point</span><span class="p">[</span><span class="mi">2</span><span
            class="p">])),</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span
            class="mi">205</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span
            class="mi">205</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>

                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">tail_points</span><span
            class="p">)</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">tail_points</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span><span
            class="p">]</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>

                    <span class="sd">&quot;&quot;&quot; GESTURE RECORDING SECTION&quot;&quot;&quot;</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">capture_frame</span><span
            class="p">:</span>
                        <span class="c1"># print(str(finger.type)+&quot; &quot;+str(finger.tip_position))</span>
                        <span class="k">if</span> <span class="n">finger</span><span class="o">.</span><span class="n">type</span> <span
            class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="nb">print</span><span
            class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fx</span><span
            class="p">)</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span
            class="nb">str</span><span class="p">(</span><span class="n">fy</span><span class="p">))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">gesture</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span><span
            class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span
            class="n">Point</span><span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span
            class="n">fy</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span
            class="p">))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">gesture</span><span
            class="p">[</span><span class="n">finger</span><span class="o">.</span><span class="n">type</span><span
            class="p">][</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">gesture</span><span class="p">[</span><span class="n">finger</span><span
            class="o">.</span><span class="n">type</span><span class="p">])</span><span class="o">-</span><span
            class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">convert_to</span><span
            class="p">(</span><span class="n">W</span><span class="o">/</span><span class="mi">2</span><span
            class="p">,</span> <span class="n">H</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
                    <span class="c1"># self.c += 1</span>

                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span
            class="n">frame</span><span class="o">.</span><span class="n">hands</span><span class="p">)</span> <span
            class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">finger</span><span
            class="o">.</span><span class="n">type</span> <span class="o">==</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">mm</span> <span
            class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">active</span> <span class="ow">and</span> <span
            class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse</span><span
            class="o">.</span><span class="n">switch_mode</span><span class="p">:</span>
                        <span class="k">pass</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">on_frame_c</span> <span
            class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># global cv_frame_XY, cv_frame_XZ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cv_frame_XY</span> <span class="o">=</span> <span
            class="n">cv_frame_loc_XY</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cv_frame_XZ</span> <span class="o">=</span> <span
            class="n">cv_frame_loc_XZ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">emit_cv_frame_XY</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cv_frame_XY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">emit_cv_frame_XZ</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cv_frame_XZ</span><span class="p">)</span></div></div>
</pre>
                </div>

            </div>

        </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h1 class="logo"><a href="../../index.html">LeapPCController</a></h1>


            <h3>Navigation</h3>

            <div class="relations">
                <h3>Related Topics</h3>
                <ul>
                    <li><a href="../../index.html">Documentation overview</a>
                        <ul>
                            <li><a href="../index.html">Module code</a>
                                <ul>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3>Quick search</h3>
                <div class="searchformwrapper">
                    <form class="search" action="../../search.html" method="get">
                        <input type="text" name="q"/>
                        <input type="submit" value="Go"/>
                        <input type="hidden" name="check_keywords" value="yes"/>
                        <input type="hidden" name="area" value="default"/>
                    </form>
                </div>
            </div>
            <script type="text/javascript">$('#searchbox').show(0);</script>


        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy;2019, Mario Varas.

    |
    Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
    &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

</div>


</body>
</html>
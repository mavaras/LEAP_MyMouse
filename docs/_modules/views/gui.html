<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>views.gui &#8212; LeapPCController 2019 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css"/>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css"/>
    <script type="text/javascript" id="documentation_options" data-url_root="../../"
            src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html"/>
    <link rel="search" title="Search" href="../../search.html"/>

    <link rel="stylesheet" href="../../_static/custom.css" type="text/css"/>


    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9"/>

</head>
<body>


<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">


            <div class="body" role="main">

                <h1>Source code for views.gui</h1>
                <div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># ===============GUI CLASSES===============</span>
<span class="c1"># == Canvas</span>
<span class="c1"># == MainWindow</span>
<span class="c1"># == Cv_frames</span>
<span class="c1"># == leap_controller frames + leap_controller connected (signals)</span>


<span class="c1"># basic modules imports</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># aux modules imports</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>
<span class="c1"># import matplotlib.pyplot as plt  # conflict with sphinx</span>

<span class="kn">from</span> <span class="nn">scipy.misc</span> <span class="k">import</span> <span
                        class="n">imresize</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span
                        class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span
                        class="n">datasets</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">svm</span>
<span class="kn">from</span> <span class="nn">sklearn.externals</span> <span class="k">import</span> <span class="n">joblib</span>

<span class="c1"># self package imports</span>
<span class="kn">from</span> <span class="nn">gvariables</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">gvariables</span>
<span class="kn">from</span> <span class="nn">_print</span> <span class="k">import</span> <span class="n">_print</span>
<span class="kn">from</span> <span class="nn">controllers.aux_functions</span> <span class="k">import</span> <span
                        class="o">*</span>
<span class="kn">from</span> <span class="nn">models.points</span> <span class="k">import</span> <span
                        class="n">Point</span><span class="p">,</span> <span class="n">Point_cloud</span>
<span class="kn">from</span> <span class="nn">views.gui_qtdesigner</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">views.canvas</span> <span class="k">import</span> <span class="n">Widget_canvas</span>
<span class="kn">from</span> <span class="nn">views.cv_frame</span> <span class="k">import</span> <span class="n">Cv_Frame</span>


<div class="viewcode-block" id="MainWindow"><a class="viewcode-back"
                                               href="../../views.html#views.gui.MainWindow">[docs]</a><span class="k">class</span> <span
        class="nc">MainWindow</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span
        class="n">QMainWindow</span><span class="p">,</span> <span class="n">Ui_MainWindow</span><span
        class="p">):</span>
    <span class="c1"># last and new points for proper drawing (esto no se que mierda es)</span>
    <span class="n">lp</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span
            class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span
            class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">np</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span
            class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span
            class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">n_of_fingers</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="sd">&quot;&quot;&quot; this array stores all combo_boxes with its options with its associated gesture | gifs</span>
<span class="sd">    this in an array of dictionaries, each one containing each combo box index + gest. name</span>
<span class="sd">    dict key -&gt; combobox index ; dict value -&gt; conf. file string&quot;&quot;&quot;</span>
    <span class="n">cb_action_gesture</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># flag</span>
    <span class="n">opened</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">gvariables</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># alternating between pd an NN recognition systems</span>
    <span class="n">canvas_algorithm</span> <span class="o">=</span> <span class="s2">&quot;pd&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span
            class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span
            class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">QtGui</span><span class="o">.</span><span class="n">QMainWindow</span><span
            class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span
            class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span
            class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># self.setWindowFlags(Qt.FramelessWindowHint)</span>
        <span class="c1"># self.setWindowOpacity(0)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened</span> <span class="o">=</span> <span
            class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">systray</span> <span
            class="o">=</span> <span class="n">QSystemTrayIcon</span><span class="p">(</span><span
            class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;res/icons/icon.ico&quot;</span><span
            class="p">),</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_notification_area</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cvF</span> <span class="o">=</span> <span
            class="n">Cv_Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span> <span
            class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span
            class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="MainWindow.initUI"><a class="viewcode-back"
                                                      href="../../views.html#views.gui.MainWindow.initUI">[docs]</a>    <span
        class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; widget initialization, positioning, linking etc.</span>
<span class="sd">        fills cb_action_gesture array</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">_print</span><span class="p">(</span><span class="s2">&quot;initUI&quot;</span><span
            class="p">)</span>

        <span class="c1"># TAB1 - CANVAS setup</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span> <span
            class="o">=</span> <span class="n">Widget_canvas</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">tab_canvas</span><span
            class="p">)</span>  <span class="c1"># linking widget_canvas to tab1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span><span class="o">.</span><span
            class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span
            class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span><span class="o">.</span><span
            class="n">resize</span><span class="p">(</span><span class="n">canvas_width</span><span
            class="p">,</span> <span class="n">canvas_height</span><span class="p">)</span>

        <span class="n">canvas_algorithm_group</span> <span class="o">=</span> <span class="n">QtGui</span><span
            class="o">.</span><span class="n">QButtonGroup</span><span class="p">(</span><span
            class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radioButton_pd</span><span
            class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">recognition_algorithm_ch</span><span class="p">(</span><span class="s2">&quot;pd&quot;</span><span
            class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radioButton_NN</span><span
            class="o">.</span><span class="n">toggled</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">recognition_algorithm_ch</span><span class="p">(</span><span class="s2">&quot;NN&quot;</span><span
            class="p">))</span>
        <span class="n">canvas_algorithm_group</span><span class="o">.</span><span class="n">addButton</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">radioButton_pd</span><span class="p">)</span>
        <span class="n">canvas_algorithm_group</span><span class="o">.</span><span class="n">addButton</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">radioButton_NN</span><span class="p">)</span>

        <span class="c1"># TAB2 - CONFIGURATION TAB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_save_conf</span><span
            class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_conf</span><span
            class="p">)</span>

        <span class="c1"># text edits setup (not used)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_load_text</span><span
            class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">load_text_B</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_edit</span><span
            class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span
            class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_edit_2</span><span
            class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span
            class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_nfingers_selection_changed</span><span class="p">)</span>

        <span class="c1"># __label_leap_status default value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">change_leap_status</span><span
            class="p">(</span><span class="n">gvariables</span><span class="o">.</span><span
            class="n">listener</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span
            class="n">leap_connected</span><span class="p">)</span>
        <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span class="o">.</span><span
            class="n">status</span><span class="o">.</span><span class="n">sgn_leap_connected</span><span
            class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">change_leap_status</span><span class="p">)</span>

        <span class="c1"># __cv_frame representation</span>
        <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span class="o">.</span><span
            class="n">status</span><span class="o">.</span><span class="n">sgn_cv_frame_XY</span><span
            class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cvF</span><span class="o">.</span><span class="n">set_frame_XY</span><span
            class="p">)</span>
        <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span class="o">.</span><span
            class="n">status</span><span class="o">.</span><span class="n">sgn_cv_frame_XZ</span><span
            class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cvF</span><span class="o">.</span><span class="n">set_frame_XZ</span><span
            class="p">)</span>

        <span class="c1"># __Action-gesture COMBOBOXES</span>
        <span class="c1"># TODO: set all gestures the same as ComboBoxes and handle into leap_controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_mm</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_mm&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_click&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span
            class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span
            class="p">:</span> <span class="s2">&quot;click_planem&quot;</span><span class="p">,</span>
                                                        <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;click_deepm&quot;</span><span class="p">,</span>
                                                        <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;click_f2down&quot;</span><span class="p">,</span>
                                                        <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;click_f1down&quot;</span><span class="p">,</span>
                                                        <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;click_f0down&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_rclick</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_rclick&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_rclick</span><span class="p">]</span> <span class="o">=</span> <span
            class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;rclick_f2down&quot;</span><span
            class="p">,</span>
                                                         <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;f1_f2_front&quot;</span><span class="p">,</span>
                                                         <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;rclick_f1down&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_minimizew</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_minimizew&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_minimizew</span><span class="p">]</span> <span class="o">=</span> <span
            class="p">{</span><span class="mi">0</span><span class="p">:</span> <span
            class="s2">&quot;V&quot;</span><span class="p">,</span>
                                                            <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;T&quot;</span><span class="p">,</span>
                                                            <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;W&quot;</span><span class="p">,</span>
                                                            <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;D&quot;</span><span class="p">,</span>
                                                            <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;M&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_closew</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_closew&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_closew</span><span class="p">]</span> <span class="o">=</span> <span
            class="p">{</span><span class="mi">0</span><span class="p">:</span> <span
            class="s2">&quot;T&quot;</span><span class="p">,</span>
                                                         <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;V&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_changew</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_changew&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_changew</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span
            class="mi">0</span><span class="p">:</span> <span class="s2">&quot;90_and_swipe&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_vscroll</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_vscroll&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_vscroll</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span
            class="mi">0</span><span class="p">:</span> <span class="s2">&quot;5_fingers_UD&quot;</span><span class="p">,</span>
                                                          <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;5_fingers_LR&quot;</span><span class="p">,</span>
                                                          <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;4_fingers_UD&quot;</span><span class="p">,</span>
                                                          <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;3_fingers_UD&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_hscroll</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_hscroll&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_hscroll</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span
            class="mi">0</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span
            class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_grabb</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_grabb&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_box_grabb</span><span
            class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span
            class="p">:</span> <span class="s2">&quot;f1_f2&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_showdesktop</span><span class="o">.</span><span
            class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_showdesktop&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_showdesktop</span><span class="p">]</span> <span class="o">=</span> <span
            class="p">{</span><span class="mi">0</span><span class="p">:</span> <span
            class="s2">&quot;D&quot;</span><span class="p">,</span>
                                                              <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;T&quot;</span><span class="p">,</span>
                                                              <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;V&quot;</span><span class="p">,</span>
                                                              <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;Z&quot;</span><span class="p">,</span>
                                                              <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;W&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_openfexplorer</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_openfexplorer&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_box_openfexplorer</span><span
            class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span
            class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span>
                                                                <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;Z&quot;</span><span class="p">,</span>
                                                                <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;D&quot;</span><span class="p">,</span>
                                                                <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;V&quot;</span><span class="p">,</span>
                                                                <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;W&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_copy</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_copy&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_copy</span><span class="p">]</span> <span class="o">=</span> <span
            class="p">{</span><span class="mi">0</span><span class="p">:</span> <span
            class="s2">&quot;C&quot;</span><span class="p">,</span>
                                                       <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;D&quot;</span><span class="p">,</span>
                                                       <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;T&quot;</span><span class="p">,</span>
                                                       <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;V&quot;</span><span class="p">,</span>
                                                       <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;W&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_paste</span><span
            class="o">.</span><span class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_paste&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_box_paste</span><span
            class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span
            class="p">:</span> <span class="s2">&quot;V&quot;</span><span class="p">,</span>
                                                        <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;T&quot;</span><span class="p">,</span>
                                                        <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;C&quot;</span><span class="p">,</span>
                                                        <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;D&quot;</span><span class="p">,</span>
                                                        <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;W&quot;</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_cut</span><span class="o">.</span><span
            class="n">currentIndexChanged</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span
            class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_actiongesture_changed</span><span class="p">(</span><span
            class="s2">&quot;combo_box_cut&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cb_action_gesture</span><span
            class="p">[</span><span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_cut</span><span class="p">]</span> <span class="o">=</span> <span
            class="p">{</span><span class="mi">0</span><span class="p">:</span> <span
            class="s2">&quot;W&quot;</span><span class="p">,</span>
                                                      <span class="mi">1</span><span class="p">:</span> <span
            class="s2">&quot;X&quot;</span><span class="p">,</span>
                                                      <span class="mi">2</span><span class="p">:</span> <span
            class="s2">&quot;D&quot;</span><span class="p">,</span>
                                                      <span class="mi">3</span><span class="p">:</span> <span
            class="s2">&quot;C&quot;</span><span class="p">,</span>
                                                      <span class="mi">4</span><span class="p">:</span> <span
            class="s2">&quot;V&quot;</span><span class="p">}</span>

        <span class="c1"># __help buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_gesture_gif</span><span
            class="p">(</span><span class="s2">&quot;res/gifs/no_gesture.gif&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_gesture_gif</span><span
            class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">QtGui</span><span
            class="o">.</span><span class="n">QHBoxLayout</span><span class="p">())</span>

        <span class="n">help_img</span> <span class="o">=</span> <span class="s2">&quot;res/icons/eye.png&quot;</span>
        <span class="c1"># we pass view_gesture() method help button associated combo box</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_click</span><span
            class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">view_gesture</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span
            class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_click</span><span
            class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span
            class="p">(</span><span class="n">help_img</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_click</span><span
            class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span
            class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span
            class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_click</span><span
            class="o">.</span><span class="n">setMask</span><span class="p">(</span><span class="n">QtGui</span><span
            class="o">.</span><span class="n">QRegion</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">button_help_click</span><span class="o">.</span><span
            class="n">rect</span><span class="p">(),</span>
                                                     <span class="n">QtGui</span><span class="o">.</span><span
            class="n">QRegion</span><span class="o">.</span><span class="n">Ellipse</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_rclick</span><span
            class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">view_gesture</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_rclick</span><span
            class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_rclick</span><span
            class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span
            class="p">(</span><span class="n">help_img</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_rclick</span><span
            class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span
            class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span
            class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_rclick</span><span
            class="o">.</span><span class="n">setMask</span><span class="p">(</span><span class="n">QtGui</span><span
            class="o">.</span><span class="n">QRegion</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">button_help_rclick</span><span class="o">.</span><span
            class="n">rect</span><span class="p">(),</span>
                                                      <span class="n">QtGui</span><span class="o">.</span><span
            class="n">QRegion</span><span class="o">.</span><span class="n">Ellipse</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_grabb</span><span
            class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">view_gesture</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_grabb</span><span
            class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_grabb</span><span
            class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span
            class="p">(</span><span class="n">help_img</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_grabb</span><span
            class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span
            class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span
            class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_grabb</span><span
            class="o">.</span><span class="n">setMask</span><span class="p">(</span><span class="n">QtGui</span><span
            class="o">.</span><span class="n">QRegion</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">button_help_grabb</span><span class="o">.</span><span
            class="n">rect</span><span class="p">(),</span>
                                                     <span class="n">QtGui</span><span class="o">.</span><span
            class="n">QRegion</span><span class="o">.</span><span class="n">Ellipse</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_vscroll</span><span
            class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">view_gesture</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_vscroll</span><span
            class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_vscroll</span><span
            class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span
            class="p">(</span><span class="n">help_img</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_vscroll</span><span
            class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span
            class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span
            class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_help_vscroll</span><span
            class="o">.</span><span class="n">setMask</span><span class="p">(</span><span class="n">QtGui</span><span
            class="o">.</span><span class="n">QRegion</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">button_help_vscroll</span><span class="o">.</span><span
            class="n">rect</span><span class="p">(),</span>
                                                       <span class="n">QtGui</span><span class="o">.</span><span
            class="n">QRegion</span><span class="o">.</span><span class="n">Ellipse</span><span class="p">))</span>

        <span class="c1"># TAB3</span>
        <span class="sd">&quot;&quot;&quot;self.combo_box_gestures.currentIndexChanged[&quot;int&quot;].connect(self.combo_box_gestures_selection_changed)</span>
<span class="sd">        self.set_gesture_gif(&quot;gifs/click_plane.gif&quot;)</span>
<span class="sd">        self.label_gesture_gif.setLayout(QtGui.QHBoxLayout())&quot;&quot;&quot;</span>

        <span class="c1"># MENUBAR</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar_file_loadconf</span><span class="o">.</span><span
            class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">load_conf_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar_file_saveconf</span><span class="o">.</span><span
            class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_conf</span><span
            class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.set_notification_area"><a class="viewcode-back"
                                                                     href="../../views.html#views.gui.MainWindow.set_notification_area">[docs]</a>    <span
        class="k">def</span> <span class="nf">set_notification_area</span><span class="p">(</span><span
        class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; this function sets notification area menu&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">systray</span><span class="o">.</span><span
            class="n">show</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">systray</span><span class="o">.</span><span
            class="n">showMessage</span><span class="p">(</span><span class="s2">&quot;PCRecognizer&quot;</span><span
            class="p">,</span>
                                 <span class="s2">&quot;App working&quot;</span><span class="p">,</span>
                                 <span class="n">QSystemTrayIcon</span><span class="o">.</span><span
            class="n">Warning</span><span class="p">)</span>
        <span class="c1"># right click options</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">systray_menu</span> <span class="o">=</span> <span
            class="n">QMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opt_startcontrol</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">systray_menu</span><span class="o">.</span><span class="n">addAction</span><span
            class="p">(</span><span class="s2">&quot;Open/Close&quot;</span><span class="p">)</span><span
            class="o">.</span><span class="n">triggered</span><span class="o">.</span><span
            class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">show_gui</span><span class="p">)</span>  <span class="c1"># open gui</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opt_startcontrol</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">systray_menu</span><span class="o">.</span><span class="n">addAction</span><span
            class="p">(</span><span class="s2">&quot;Start Control&quot;</span><span class="p">)</span><span
            class="o">.</span><span class="n">triggered</span><span class="o">.</span><span
            class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">start_stop_control</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opt_stopcontrol</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">systray_menu</span><span class="o">.</span><span class="n">addAction</span><span
            class="p">(</span><span class="s2">&quot;Stop Control&quot;</span><span class="p">)</span><span
            class="o">.</span><span class="n">triggered</span><span class="o">.</span><span
            class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">start_stop_control</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opt_exit</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">systray_menu</span><span class="o">.</span><span class="n">addAction</span><span
            class="p">(</span><span class="s2">&quot;Exit&quot;</span><span class="p">)</span><span
            class="o">.</span><span class="n">triggered</span><span class="o">.</span><span
            class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">exit_app</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">systray</span><span class="o">.</span><span
            class="n">setContextMenu</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">systray_menu</span><span class="p">)</span></div>

    <span class="c1"># this two functions are about loading text from text_edit and converting it to points array (not used)</span>
<div class="viewcode-block" id="MainWindow.to_point"><a class="viewcode-back"
                                                        href="../../views.html#views.gui.MainWindow.to_point">[docs]</a>    <span
        class="k">def</span> <span class="nf">to_point</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span
            class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span
            class="nb">float</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span
            class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:])),</span> <span
            class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span
            class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span
            class="o">-</span><span class="mi">1</span><span class="p">]))</span></div>

<div class="viewcode-block" id="MainWindow.load_text_B"><a class="viewcode-back"
                                                           href="../../views.html#views.gui.MainWindow.load_text_B">[docs]</a>    <span
        class="k">def</span> <span class="nf">load_text_B</span><span class="p">(</span><span
        class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">text_edit</span><span class="o">.</span><span
            class="n">toPlainText</span><span class="p">())</span>
        <span class="n">arr</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span
            class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span
            class="s2">&quot;</span><span class="p">)</span>

        <span class="n">loaded_points</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># containing new read points</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span
            class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span
            class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">to_point</span><span class="p">(</span><span
            class="n">arr</span><span class="p">[</span><span class="n">c</span><span class="p">])</span>
            <span class="n">loaded_points</span><span class="o">.</span><span class="n">append</span><span
            class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span
            class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">-</span><span
            class="mi">1</span><span class="p">))</span>

        <span class="n">pc</span> <span class="o">=</span> <span class="n">Point_cloud</span><span
            class="p">(</span><span class="s2">&quot;loaded_points&quot;</span><span class="p">,</span> <span class="n">loaded_points</span><span
            class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span><span class="o">.</span><span
            class="n">path</span> <span class="o">=</span> <span class="n">QPainterPath</span><span class="p">()</span>  <span
            class="c1"># clear canvas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="n">pc</span><span class="o">.</span><span class="n">draw_on_canvas</span><span class="p">()</span>  <span
            class="c1"># drawing loaded stroke</span>
        <span class="k">global</span> <span class="n">points</span>
        <span class="n">points</span> <span class="o">=</span> <span class="n">loaded_points</span>  <span class="c1"># allowing &quot;F&quot;</span></div>

<div class="viewcode-block" id="MainWindow.save_conf"><a class="viewcode-back"
                                                         href="../../views.html#views.gui.MainWindow.save_conf">[docs]</a>    <span
        class="k">def</span> <span class="nf">save_conf</span><span class="p">(</span><span class="bp">self</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; save Configuration object content to file&quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;save_conf()&quot;</span><span
            class="p">)</span>
        <span class="n">fname</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span
            class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                            <span class="s2">&quot;Save Configuration&quot;</span><span
            class="p">,</span>
                                            <span class="s2">&quot;E:</span><span class="se">\\</span><span class="s2">Documentos</span><span
            class="se">\\</span><span class="s2">Estudio</span><span class="se">\\</span><span
            class="s2">programming</span><span class="se">\\</span><span class="s2">Python</span><span
            class="se">\\</span><span class="s2">leap</span><span class="se">\\</span><span class="s2">LEAP_proyect&quot;</span><span
            class="p">,</span>
                                            <span class="s2">&quot;(*.txt)&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fname</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span
            class="n">fname</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span
            class="p">)</span>

            <span class="n">configuration</span> <span class="o">=</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">configuration</span>
            <span class="n">configuration</span><span class="o">.</span><span class="n">file_name</span> <span
            class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">QFileInfo</span><span
            class="p">(</span><span class="n">fname</span><span class="p">)</span><span class="o">.</span><span
            class="n">fileName</span><span class="p">())</span>
            <span class="n">configuration</span><span class="o">.</span><span class="n">file_path</span> <span
            class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">QFileInfo</span><span
            class="p">(</span><span class="n">fname</span><span class="p">)</span><span class="o">.</span><span
            class="n">path</span><span class="p">())</span>
            <span class="n">configuration</span><span class="o">.</span><span class="n">file_date</span> <span
            class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span
            class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span
            class="o">.</span><span class="n">getctime</span><span class="p">(</span><span class="n">fname</span><span
            class="p">))</span>

            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">file_name</span> <span
            class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span
            class="s2">&quot;</span> <span class="o">+</span> <span class="n">configuration</span><span
            class="o">.</span><span class="n">file_path</span> <span class="o">+</span> <span
            class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span
            class="o">+</span> <span class="n">configuration</span><span class="o">.</span><span
            class="n">file_date</span> <span class="o">+</span> <span class="s2">&quot;</span><span
            class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">get_conf</span><span class="p">())</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span
            class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">extra</span><span
            class="o">.</span><span class="n">get_conf</span><span class="p">())</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;error save_conf()&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.load_conf_file"><a class="viewcode-back"
                                                              href="../../views.html#views.gui.MainWindow.load_conf_file">[docs]</a>    <span
        class="k">def</span> <span class="nf">load_conf_file</span><span class="p">(</span><span
        class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; loads configuration file into Configuration object&quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;load_conf_file()&quot;</span><span
            class="p">)</span>
        <span class="n">fname</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span
            class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                            <span class="s2">&quot;Save Configuration&quot;</span><span
            class="p">,</span>
                                            <span class="s2">&quot;E:</span><span class="se">\\</span><span class="s2">Documentos</span><span
            class="se">\\</span><span class="s2">Estudio</span><span class="se">\\</span><span
            class="s2">programming</span><span class="se">\\</span><span class="s2">Python</span><span
            class="se">\\</span><span class="s2">leap</span><span class="se">\\</span><span class="s2">LEAP_proyect&quot;</span><span
            class="p">,</span>
                                            <span class="s2">&quot;(*.txt)&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fname</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span
            class="n">fname</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">load_conf</span><span class="p">(</span><span class="n">f</span><span
            class="p">)</span>

            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">label_conf_file</span><span
            class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span
            class="p">(</span><span class="n">fname</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_conf</span><span
            class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.load_conf"><a class="viewcode-back"
                                                         href="../../views.html#views.gui.MainWindow.load_conf">[docs]</a>    <span
        class="k">def</span> <span class="nf">load_conf</span><span class="p">(</span><span class="bp">self</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; loads given configuration object into SYSTEM</span>
<span class="sd">        updates comboboxes and GUI elements</span>
<span class="sd">        using cb_action_gesture array</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_mm</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span
            class="nb">int</span><span class="p">(</span><span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">mm</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">lclick</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_rclick</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_rclick</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">rclick</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_minimizew</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_minimizew</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">minimizew</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_closew</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_closew</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">closew</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_changew</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_changew</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">changew</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_vscroll</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_vscroll</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">vscroll</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_hscroll</span><span
            class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="n">get_dict_key</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_hscroll</span><span
            class="p">],</span> <span class="n">gvariables</span><span class="o">.</span><span
            class="n">configuration</span><span class="o">.</span><span class="n">basic</span><span
            class="o">.</span><span class="n">hscroll</span><span class="p">)</span>
        <span class="p">)</span></div>

    <span class="c1"># Leap status label</span>
<div class="viewcode-block" id="MainWindow.change_leap_status"><a class="viewcode-back"
                                                                  href="../../views.html#views.gui.MainWindow.change_leap_status">[docs]</a>    <span
        class="nd">@pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">change_leap_status</span><span class="p">(</span><span
            class="bp">self</span><span class="p">,</span> <span class="n">conn</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; handles Leap label status on the down bar</span>

<span class="sd">        :param conn: true if connected, false if not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">conn</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label_leap_status</span><span class="o">.</span><span
            class="n">setText</span><span class="p">(</span><span class="s2">&quot;CONNECTED&quot;</span><span
            class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label_leap_status</span><span class="o">.</span><span
            class="n">setStyleSheet</span><span class="p">(</span><span
            class="s2">&quot;QLabel {color: green;}&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label_leap_status</span><span class="o">.</span><span
            class="n">setText</span><span class="p">(</span><span class="s2">&quot;DISCONNECTED&quot;</span><span
            class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label_leap_status</span><span class="o">.</span><span
            class="n">setStyleSheet</span><span class="p">(</span><span
            class="s2">&quot;QLabel {color: red;}&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.keyPressEvent"><a class="viewcode-back"
                                                             href="../../views.html#views.gui.MainWindow.keyPressEvent">[docs]</a>    <span
        class="k">def</span> <span class="nf">keyPressEvent</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; this is a collection of key events binded to GUI</span>

<span class="sd">        :param event: pressed key</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">global</span> <span class="n">points</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_Q</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">gvariables</span><span
            class="o">.</span><span class="n">stdout</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exit_app</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_W</span><span class="p">:</span>  <span
            class="c1"># app interaction example/test</span>
            <span class="sd">&quot;&quot;&quot;handle = win32gui.FindWindow(None, r&quot;Reproductor multimedia VLC&quot;)</span>
<span class="sd">            # win32gui.PostMessage(handle, win32con.WM_CLOSE, 0, 0)</span>
<span class="sd">            win32gui.CloseWindow(handle)&quot;&quot;&quot;</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span
            class="p">)</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_S</span><span class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">active</span> <span
            class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="ow">not</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">active</span> <span
            class="k">else</span> <span class="kc">False</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_Y</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;print(&quot;Y pressed&quot;)</span>
<span class="sd">            keyboard = Controller()</span>
<span class="sd">            keyboard.press(Key.cmd)</span>
<span class="sd">            keyboard.press(&quot;d&quot;)</span>
<span class="sd">            keyboard.release(&quot;d&quot;)</span>
<span class="sd">            keyboard.release(Key.cmd)&quot;&quot;&quot;</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_F</span><span class="p">:</span>  <span
            class="c1"># start stroke recognition</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">n_of_fingers</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">pc</span> <span class="o">=</span> <span class="n">Point_cloud</span><span
            class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span
            class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span><span
            class="o">.</span><span class="n">points</span><span class="p">,</span> <span class="n">Point</span><span
            class="p">(</span><span class="n">W</span><span class="o">/</span><span class="mi">4</span><span
            class="p">,</span> <span class="n">H</span><span class="o">/</span><span class="mi">4</span> <span
            class="o">+</span> <span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span
            class="mi">1</span><span class="p">))</span>
                <span class="c1"># pc.draw_on_canvas()    normalized pc</span>

                <span class="n">result</span> <span class="o">=</span> <span class="n">recognize_stroke</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">widget_canvas</span><span class="o">.</span><span class="n">points</span><span class="p">)</span>
                <span class="n">gesture_match</span><span class="p">(</span><span class="n">result</span><span
            class="o">.</span><span class="n">name</span><span class="p">,</span> <span
            class="s2">&quot;-thread&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span
            class="o">.</span><span class="n">argv</span><span class="p">)</span>

                <span class="n">str_accum</span> <span class="o">=</span> <span class="s2">&quot;Last/Current gesture points array</span><span
            class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span
            class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)):</span>
                    <span class="n">str_accum</span> <span class="o">+=</span> <span
            class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span
            class="n">points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span
            class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span
            class="n">points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span
            class="s2">&quot;)&quot;</span>
                    <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span
            class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span
            class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">str_accum</span> <span class="o">+=</span> <span class="s2">&quot;</span><span
            class="se">\n</span><span class="s2">&quot;</span>

                <span class="n">print_score</span><span class="p">(</span><span class="n">result</span><span
            class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">text_edit</span><span
            class="o">.</span><span class="n">setText</span><span class="p">(</span><span
            class="n">str_accum</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">n_of_fingers</span> <span class="o">==</span> <span class="o">-</span><span
            class="mi">1</span><span class="p">:</span>
                <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
            class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span
            class="mi">5</span><span class="p">):</span>
                    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span
            class="p">(</span><span class="n">recognize_stroke</span><span class="p">(</span><span
            class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">gesture</span><span class="p">[</span><span class="n">c</span><span
            class="p">]))</span>
                    <span class="n">gesture_match</span><span class="p">(</span><span class="n">results</span><span
            class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span
            class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span
            class="o">.</span><span class="n">name</span><span class="p">,</span> <span
            class="s2">&quot;-thread&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span
            class="o">.</span><span class="n">argv</span><span class="p">)</span>

                <span class="n">results_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">res</span><span
            class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">res</span> <span
            class="ow">in</span> <span class="n">results</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">results_names</span><span
            class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span
            class="p">(</span><span class="n">results_names</span><span class="p">))</span> <span class="o">&lt;=</span> <span
            class="mi">1</span><span class="p">:</span>
                    <span class="n">print_score</span><span class="p">(</span><span class="n">results</span><span
            class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;inconsistent matches of each finger&quot;</span><span
            class="p">)</span>

            <span class="c1"># resetting values, clearing arrays</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">stroke_id</span> <span
            class="o">=</span> <span class="mi">0</span>
            <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">clear_variables</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_C</span><span class="p">:</span>  <span
            class="c1"># clear canvas</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;clear&quot;</span><span
            class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">widget_canvas</span><span
            class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label_score</span><span
            class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span
            class="p">)</span>

        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span
            class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span
            class="n">Qt</span><span class="o">.</span><span class="n">Key_G</span> <span class="ow">and</span> <span
            class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span
            class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span
            class="s2">&quot;-thread&quot;</span><span class="p">:</span>
            <span class="c1"># global points</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">n_of_fingers</span> <span class="o">==</span> <span class="mi">1</span><span
            class="p">:</span>  <span class="c1"># recording only 1 finger (index)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 finger recording mode&quot;</span><span
            class="p">)</span>
                <span class="k">if</span> <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">capture_frame</span><span class="p">:</span>  <span class="c1"># 2nd &quot;G&quot; press</span>
                    <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;record captured&quot;</span><span class="p">)</span>
                    <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">capture_frame</span> <span class="o">=</span> <span
            class="kc">False</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_algorithm</span> <span
            class="o">==</span> <span class="s2">&quot;NN&quot;</span><span class="p">:</span>
                        <span class="c1"># Neural Network recognition selected</span>
                        <span class="n">img_dim</span> <span class="o">=</span> <span class="mi">28</span>
                        <span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span
            class="n">zeros</span><span class="p">((</span><span class="n">img_dim</span><span class="p">,</span> <span
            class="n">img_dim</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span
            class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span
            class="n">uint8</span><span class="p">)</span>
                        <span class="n">white</span> <span class="o">=</span> <span class="p">[</span><span class="mi">255</span><span
            class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span
            class="p">]</span>

                        <span class="n">leap_gesture_points</span> <span class="o">=</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">gesture</span><span class="p">[</span><span class="mi">1</span><span
            class="p">]</span>
                        <span class="c1"># undoing convert_to from leap_controller to get min and max</span>
                        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="nb">len</span><span class="p">(</span><span
            class="n">leap_gesture_points</span><span class="p">)):</span>
                            <span class="n">leap_gesture_points</span><span class="p">[</span><span
            class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">*=</span> <span
            class="p">(</span><span class="n">W</span><span class="o">/</span><span class="mi">2</span><span
            class="p">)</span>
                            <span class="n">leap_gesture_points</span><span class="p">[</span><span
            class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">/=</span> <span
            class="n">W</span>
                            <span class="n">leap_gesture_points</span><span class="p">[</span><span
            class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span
            class="o">=</span> <span class="n">H</span> <span class="o">-</span> <span class="nb">abs</span><span
            class="p">(</span><span class="n">leap_gesture_points</span><span class="p">[</span><span class="n">c</span><span
            class="p">]</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                            <span class="n">leap_gesture_points</span><span class="p">[</span><span
            class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">*=</span> <span
            class="p">(</span><span class="n">H</span><span class="o">/</span><span class="mi">2</span><span
            class="p">)</span>
                            <span class="n">leap_gesture_points</span><span class="p">[</span><span
            class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">/=</span> <span
            class="n">H</span>

                        <span class="n">max_leap_y</span> <span class="o">=</span> <span class="nb">max</span><span
            class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">y</span> <span class="k">for</span> <span
            class="n">g</span> <span class="ow">in</span> <span class="n">leap_gesture_points</span><span
            class="p">)</span>
                        <span class="n">max_leap_x</span> <span class="o">=</span> <span class="nb">max</span><span
            class="p">((</span><span class="n">g</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span
            class="mi">200</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span
            class="ow">in</span> <span class="n">leap_gesture_points</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="nb">len</span><span class="p">(</span><span
            class="n">leap_gesture_points</span><span class="p">)):</span>
                            <span class="nb">print</span><span class="p">(</span><span
            class="n">leap_gesture_points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">y</span><span class="p">),</span>
                            <span class="nb">print</span><span class="p">(</span><span
            class="n">leap_gesture_points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">x</span><span class="p">)</span>
                            <span class="n">leap_x</span> <span class="o">=</span> <span
            class="n">leap_gesture_points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">140</span>
                            <span class="n">leap_y</span> <span class="o">=</span> <span
            class="n">max_leap_y</span> <span class="o">+</span> <span class="mi">40</span> <span
            class="o">-</span> <span class="n">leap_gesture_points</span><span class="p">[</span><span
            class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">y</span>
                            <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span
            class="p">(</span><span class="n">leap_x</span><span class="p">)</span> <span class="o">+</span> <span
            class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span
            class="p">(</span><span class="n">leap_y</span><span class="p">))</span>
                            <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span
            class="p">(</span><span class="n">leap_x</span> <span class="o">*</span> <span class="n">img_dim</span><span
            class="o">/</span><span class="n">max_leap_x</span><span class="p">)</span> <span class="o">+</span> <span
            class="s2">&quot;; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span
            class="p">(</span><span class="n">leap_y</span> <span class="o">*</span> <span
            class="n">img_dim</span> <span class="o">/</span> <span class="n">max_leap_y</span><span class="p">))</span>
                            <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;&quot;</span><span class="p">)</span>
                            <span class="n">matrix_x</span> <span class="o">=</span> <span class="nb">int</span><span
            class="p">(</span><span class="n">leap_x</span> <span class="o">*</span> <span class="n">img_dim</span><span
            class="o">/</span><span class="n">max_leap_x</span><span class="p">)</span>
                            <span class="n">matrix_x</span> <span class="o">=</span> <span class="mi">27</span> <span
            class="k">if</span> <span class="n">matrix_x</span> <span class="o">==</span> <span
            class="mi">28</span> <span class="k">else</span> <span class="n">matrix_x</span>
                            <span class="n">matrix_y</span> <span class="o">=</span> <span class="nb">int</span><span
            class="p">(</span><span class="n">leap_y</span> <span class="o">*</span> <span class="n">img_dim</span><span
            class="o">/</span><span class="n">max_leap_y</span><span class="p">)</span>
                            <span class="n">matrix_y</span> <span class="o">=</span> <span class="mi">27</span> <span
            class="k">if</span> <span class="n">matrix_y</span> <span class="o">==</span> <span
            class="mi">28</span> <span class="k">else</span> <span class="n">matrix_y</span>
                            <span class="n">matrix</span><span class="p">[</span><span class="n">matrix_y</span><span
            class="p">][</span><span class="n">matrix_x</span><span class="p">]</span> <span class="o">=</span> <span
            class="n">white</span>

                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max X: &quot;</span> <span
            class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">max_leap_x</span><span
            class="p">))</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;max Y: &quot;</span> <span
            class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">max_leap_y</span><span
            class="p">))</span>
                        <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">matrix_to_img</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">neural_network</span><span
            class="p">(</span><span class="n">img</span><span class="p">)</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># p dollar algorithm (default)</span>
                        <span class="n">leap_gesture_points</span> <span class="o">=</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">gesture</span><span class="p">[</span><span class="mi">1</span><span
            class="p">]</span>
                        <span class="n">pc</span> <span class="o">=</span> <span class="n">Point_cloud</span><span
            class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">leap_gesture_points</span><span
            class="p">)</span><span class="o">.</span><span class="n">draw_on_canvas</span><span class="p">()</span>
                        <span class="c1"># img = self.matrix_to_img(gvariables.listener.gesture[1])</span>

                        <span class="n">result</span> <span class="o">=</span> <span
            class="n">recognize_stroke</span><span class="p">(</span><span class="n">leap_gesture_points</span><span
            class="p">)</span>
                        <span class="n">gesture_match</span><span class="p">(</span><span class="n">result</span><span
            class="o">.</span><span class="n">name</span><span class="p">,</span> <span
            class="s2">&quot;-thread&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span
            class="o">.</span><span class="n">argv</span><span class="p">)</span>

                        <span class="n">str_accum</span> <span class="o">=</span> <span class="s2">&quot;Last/Current gesture points array</span><span
            class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span
            class="p">(</span><span class="n">points</span><span class="p">)):</span>
                            <span class="n">str_accum</span> <span class="o">+=</span> <span
            class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span
            class="n">points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span
            class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span
            class="n">points</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span
            class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span
            class="s2">&quot;)&quot;</span>
                            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span
            class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span
            class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                                <span class="n">str_accum</span> <span class="o">+=</span> <span
            class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

                        <span class="n">print_score</span><span class="p">(</span><span class="n">result</span><span
            class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">text_edit</span><span
            class="o">.</span><span class="n">setText</span><span class="p">(</span><span
            class="n">str_accum</span><span class="p">)</span>

                        <span class="c1"># getting finger_1 points</span>
                        <span class="n">points</span> <span class="o">=</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">listener</span><span class="o">.</span><span class="n">gesture</span><span
            class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># this allows &quot;F&quot; to work with mouse and hand stroke</span>

                <span class="k">else</span><span class="p">:</span>  <span class="c1"># 1st &quot;G&quot; press</span>
                    <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;recording&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">label_count</span><span
            class="o">.</span><span class="n">setText</span><span class="p">(</span><span
            class="s2">&quot;4&quot;</span><span class="p">)</span>  <span
            class="c1"># countdown after getting gesture</span>
                    <span class="c1"># this is like a thread with no wait</span>
                    <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span
            class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">1000</span><span
            class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">updateLabel</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">label_count</span><span class="p">))</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">n_of_fingers</span> <span class="o">==</span> <span class="o">-</span><span
            class="mi">1</span><span class="p">:</span>  <span class="c1"># recording ALL fingers</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;all fingers recording mode&quot;</span><span
            class="p">)</span>
                <span class="n">aux</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
                <span class="k">if</span> <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">capture_frame</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;record captured&quot;</span><span class="p">)</span>
                    <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">capture_frame</span> <span class="o">=</span> <span
            class="kc">False</span>
                    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span
            class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span
            class="p">):</span>
                        <span class="n">pc</span> <span class="o">=</span> <span class="n">Point_cloud</span><span
            class="p">(</span><span class="s2">&quot;f&quot;</span> <span class="o">+</span> <span class="nb">str</span><span
            class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">listener</span><span class="o">.</span><span class="n">gesture</span><span
            class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">Point</span><span
            class="p">(</span><span class="n">W</span> <span class="o">/</span> <span class="mi">4</span> <span
            class="o">+</span> <span class="n">aux</span><span class="p">,</span> <span class="n">H</span> <span
            class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span
            class="mi">1</span><span class="p">))</span>
                        <span class="n">pc</span><span class="o">.</span><span class="n">draw_on_canvas</span><span
            class="p">()</span>
                        <span class="n">aux</span> <span class="o">+=</span> <span class="mi">50</span>

                    <span class="n">points</span> <span class="o">=</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">listener</span><span class="o">.</span><span class="n">gesture</span><span
            class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span
            class="c1"># just for testing</span>

                <span class="k">else</span><span class="p">:</span>  <span class="c1"># 1st &quot;G&quot; press</span>
                    <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;recording&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">label_count</span><span
            class="o">.</span><span class="n">setText</span><span class="p">(</span><span
            class="s2">&quot;4&quot;</span><span class="p">)</span>  <span
            class="c1"># countdown after getting gesture</span>
                    <span class="c1"># this is like a thread with no wait</span>
                    <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span
            class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">1000</span><span
            class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">updateLabel</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">label_count</span><span
            class="p">))</span></div>

<div class="viewcode-block" id="MainWindow.show_gui"><a class="viewcode-back"
                                                        href="../../views.html#views.gui.MainWindow.show_gui">[docs]</a>    <span
        class="k">def</span> <span class="nf">show_gui</span><span class="p">(</span><span class="bp">self</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; this handles notification area option &#39;Open/Close&#39;</span>
<span class="sd">        hide or shows MainWindow</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">isVisible</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span
            class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.matrix_to_img"><a class="viewcode-back"
                                                             href="../../views.html#views.gui.MainWindow.matrix_to_img">[docs]</a>    <span
        class="k">def</span> <span class="nf">matrix_to_img</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">):</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span
            class="n">fromarray</span><span class="p">(</span><span class="n">matrix</span><span
            class="p">,</span> <span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
        <span class="n">img</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">((</span><span
            class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">),</span> <span
            class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span
            class="p">)</span>  <span class="c1"># resizing to 28x28</span>
        <span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span
            class="s2">&quot;image_28x28.png&quot;</span><span class="p">)</span>

        <span class="c1"># dilate image</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span
            class="n">dilate</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span
            class="n">imread</span><span class="p">(</span><span class="s2">&quot;image_28x28.png&quot;</span><span
            class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">IMREAD_GRAYSCALE</span><span
            class="p">),</span>
                         <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span
            class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span
            class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span
            class="p">),</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span
            class="p">)</span>
        <span class="k">return</span> <span class="n">img</span></div>

<div class="viewcode-block" id="MainWindow.neural_network"><a class="viewcode-back"
                                                              href="../../views.html#views.gui.MainWindow.neural_network">[docs]</a>    <span
        class="k">def</span> <span class="nf">neural_network</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">):</span>
        <span class="c1"># setting + normalizing image</span>
        <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span
            class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="n">cv2</span><span
            class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span
            class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span
            class="mi">200</span><span class="p">)))</span>
        <span class="c1"># img = cv2.resize(img, (8, 8))</span>
        <span class="n">minValueInImage</span> <span class="o">=</span> <span class="n">np</span><span
            class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">img</span><span
            class="p">)</span>
        <span class="n">maxValueInImage</span> <span class="o">=</span> <span class="n">np</span><span
            class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">img</span><span
            class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span
            class="n">floor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span
            class="n">divide</span><span class="p">((</span><span class="n">img</span> <span class="o">-</span> <span
            class="n">minValueInImage</span><span class="p">)</span><span class="o">.</span><span
            class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span
            class="n">float</span><span class="p">),</span>
                                 <span class="p">(</span><span class="n">maxValueInImage</span> <span class="o">-</span> <span
            class="n">minValueInImage</span><span class="p">)</span><span class="o">.</span><span
            class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span
            class="n">float</span><span class="p">))</span> <span class="o">*</span> <span class="mi">16</span><span
            class="p">)</span>

        <span class="c1"># loading digit database</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="n">datasets</span><span
            class="o">.</span><span class="n">load_digits</span><span class="p">()</span>
        <span class="n">n_samples</span> <span class="o">=</span> <span class="nb">len</span><span
            class="p">(</span><span class="n">digits</span><span class="o">.</span><span class="n">images</span><span
            class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">digits</span><span class="o">.</span><span
            class="n">images</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span
            class="n">n_samples</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span
            class="p">))</span>

        <span class="c1"># setting classifier</span>
        <span class="sd">&quot;&quot;&quot;clf = svm.SVC(gamma=0.0001, C=100)</span>
<span class="sd">        clf.fit(data[:n_samples], digits.target[:n_samples])&quot;&quot;&quot;</span>

        <span class="c1"># predict</span>
        <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;Loading MLP model from file&quot;</span><span class="p">)</span>
        <span class="n">clf</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span
            class="n">load</span><span class="p">(</span><span class="s2">&quot;res/mlp_model.pkl&quot;</span><span
            class="p">)</span><span class="o">.</span><span class="n">best_estimator_</span>
        <span class="n">predicted</span> <span class="o">=</span> <span class="n">clf</span><span
            class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">img</span><span
            class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">1</span><span
            class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span
            class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span
            class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span
            class="mi">1</span><span class="p">])))</span>

        <span class="c1"># display results</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;prediction: &quot;</span> <span
            class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">predicted</span><span
            class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span
            class="n">img</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span
            class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span
            class="n">gray_r</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span
            class="s1">&#39;nearest&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span
            class="s2">&quot;result: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span
            class="p">(</span><span class="n">predicted</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

        <span class="c1">#return str(predicted)</span>

<div class="viewcode-block" id="MainWindow.recognition_algorithm_ch"><a class="viewcode-back"
                                                                        href="../../views.html#views.gui.MainWindow.recognition_algorithm_ch">[docs]</a>    <span
        class="k">def</span> <span class="nf">recognition_algorithm_ch</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">which</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; handles check box selecting recognition algorithm</span>

<span class="sd">        :param which: &#39;pd&#39; or &#39;NN&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;canvas algorithm changed to &quot;</span> <span class="o">+</span> <span
            class="nb">str</span><span class="p">(</span><span class="n">which</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">which</span> <span class="o">==</span> <span
            class="s2">&quot;pd&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_algorithm</span> <span class="o">=</span> <span
            class="s2">&quot;pd&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_algorithm</span> <span class="o">=</span> <span
            class="s2">&quot;NN&quot;</span></div>

<div class="viewcode-block" id="MainWindow.combo_box_nfingers_selection_changed"><a class="viewcode-back"
                                                                                    href="../../views.html#views.gui.MainWindow.combo_box_nfingers_selection_changed">[docs]</a>    <span
        class="k">def</span> <span class="nf">combo_box_nfingers_selection_changed</span><span class="p">(</span><span
        class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;selection changed&quot;</span> <span
            class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">()))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box</span><span class="o">.</span><span class="n">currentIndex</span><span
            class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_of_fingers</span> <span
            class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_box</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span
            class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_of_fingers</span> <span
            class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setFocus</span><span
            class="p">()</span>  <span class="c1"># getting focus back on main_window</span></div>

<div class="viewcode-block" id="MainWindow.combo_box_actiongesture_changed"><a class="viewcode-back"
                                                                               href="../../views.html#views.gui.MainWindow.combo_box_actiongesture_changed">[docs]</a>    <span
        class="k">def</span> <span class="nf">combo_box_actiongesture_changed</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">combo_box_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; collection of key events binded to GUI (configuration tab comboboxes)</span>

<span class="sd">        :param combo_box_name: changed combobox variable name</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_click&quot;</span><span
            class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span
            class="s2">&quot;lclick changed&quot;</span> <span class="o">+</span> <span class="nb">str</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">()))</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">lclick</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_click</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_click</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_rclick&quot;</span><span
            class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rclick changed&quot;</span><span
            class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_rclick</span><span
            class="p">]</span>
                  <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_rclick</span><span class="o">.</span><span class="n">currentIndex</span><span
            class="p">()))</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">rclick</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_rclick</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_rclick</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_mm&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">mm</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_mm</span><span class="o">.</span><span class="n">currentIndex</span><span
            class="p">()</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_minimizew&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">minimizew</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_minimizew</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_minimizew</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_closew&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">closew</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_closew</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_closew</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_changew&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">changew</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_changew</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_changew</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_vscroll&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">vscroll</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_vscroll</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_vscroll</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_hscroll&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">hscroll</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_hscroll</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_hscroll</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_grabb&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">basic</span><span class="o">.</span><span class="n">grabb</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_grabb</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_grabb</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_showdesktop&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">extra</span><span class="o">.</span><span
            class="n">show_desktop</span> <span class="o">=</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">cb_action_gesture</span><span class="p">[</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_showdesktop</span><span
            class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_showdesktop</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_openfexplorer&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">extra</span><span class="o">.</span><span
            class="n">show_explorer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_openfexplorer</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_openfexplorer</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_copy&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">copy</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_copy</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_copy</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_paste&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">paste</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_paste</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_paste</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">combo_box_name</span> <span class="o">==</span> <span class="s2">&quot;combo_box_cut&quot;</span><span
            class="p">:</span>
            <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">cut</span> <span
            class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="p">[</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_cut</span><span class="p">]</span> \
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="bp">self</span><span class="o">.</span><span class="n">combo_box_cut</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setFocus</span><span
            class="p">()</span></div>

    <span class="c1"># (not used)</span>
<div class="viewcode-block" id="MainWindow.combo_box_gestures_selection_changed"><a class="viewcode-back"
                                                                                    href="../../views.html#views.gui.MainWindow.combo_box_gestures_selection_changed">[docs]</a>    <span
        class="k">def</span> <span class="nf">combo_box_gestures_selection_changed</span><span class="p">(</span><span
        class="bp">self</span><span class="p">):</span>  <span class="c1"># not used</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;selection changed&quot;</span> <span
            class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span
            class="o">.</span><span class="n">combo_box_gestures</span><span class="o">.</span><span class="n">currentIndex</span><span
            class="p">()))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span
            class="n">combo_box_gestures</span><span class="o">.</span><span class="n">currentIndex</span><span
            class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_gesture_gif</span><span
            class="p">(</span><span class="s2">&quot;res/gifs/click_plane.gif&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_gestures</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span
            class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_gesture_gif</span><span
            class="p">(</span><span class="s2">&quot;res/gifs/grabb_plane.gif&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">combo_box_gestures</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">()</span> <span
            class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_gesture_gif</span><span
            class="p">(</span><span class="s2">&quot;res/gifs/scroll.gif&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setFocus</span><span
            class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.view_gesture"><a class="viewcode-back"
                                                            href="../../views.html#views.gui.MainWindow.view_gesture">[docs]</a>    <span
        class="k">def</span> <span class="nf">view_gesture</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">combo_box</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; loads gesture associated gif</span>

<span class="sd">        :param combo_box: gif button associated combobox variable name</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;view gesture: &quot;</span> <span
            class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">combo_box</span><span
            class="o">.</span><span class="n">currentIndex</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="n">combo_box</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span
            class="p">(</span><span class="n">combo_box</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">()))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_gesture_gif</span><span
            class="p">(</span>
            <span class="s2">&quot;res/gifs/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span
            class="p">(</span><span class="bp">self</span><span class="o">.</span><span
            class="n">cb_action_gesture</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span
            class="n">combo_box</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span
            class="p">(</span><span class="n">combo_box</span><span class="o">.</span><span
            class="n">currentIndex</span><span class="p">()))</span> <span class="o">+</span> <span class="s2">&quot;.gif&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_gesture_gif</span><span
            class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">QtGui</span><span
            class="o">.</span><span class="n">QHBoxLayout</span><span class="p">())</span></div>

<div class="viewcode-block" id="MainWindow.start_stop_control"><a class="viewcode-back"
                                                                  href="../../views.html#views.gui.MainWindow.start_stop_control">[docs]</a>    <span
        class="k">def</span> <span class="nf">start_stop_control</span><span class="p">(</span><span
        class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; this handles the click event to &quot;Start Control&quot; or &quot;Stop Control&quot; into notification</span>
<span class="sd">        area icon</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;notification area Start/Stop Control&quot;</span><span
            class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">gvariables</span><span
            class="o">.</span><span class="n">listener</span><span class="o">.</span><span class="n">status</span><span
            class="o">.</span><span class="n">leap_connected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_popup</span><span
            class="p">(</span><span class="s2">&quot;Problem Detected&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;Leap Motion error&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;Leap Motion device is not connected&quot;</span><span
            class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">gvariables</span><span class="o">.</span><span class="n">configuration</span><span
            class="o">.</span><span class="n">check</span><span class="p">():</span>
                <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span class="o">.</span><span
            class="n">mouse</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span
            class="kc">True</span> <span class="k">if</span> <span class="ow">not</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">active</span> <span
            class="k">else</span> <span class="kc">False</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_popup</span><span
            class="p">(</span><span class="s2">&quot;Problem Detected&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;Configuration error&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;You have same gesture assigned to multiple actions in your configuration&quot;</span><span
            class="p">)</span></div>

    <span class="sd">&quot;&quot;&quot;def set_label_leap_status(self, img):</span>
<span class="sd">        Leap status label CONNECTED or DISCONNECTED</span>

<span class="sd">        img, _, _ = load_image(img)</span>
<span class="sd">        self.label_leap_status.setPixmap(QPixmap.fromImage(img))&quot;&quot;&quot;</span>

<div class="viewcode-block" id="MainWindow.set_gesture_gif"><a class="viewcode-back"
                                                               href="../../views.html#views.gui.MainWindow.set_gesture_gif">[docs]</a>    <span
        class="k">def</span> <span class="nf">set_gesture_gif</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">gif</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; loads given gif into gif label</span>

<span class="sd">        :param gif: .gif file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">giff</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span
            class="n">QMovie</span><span class="p">(</span><span class="n">gif</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_gesture_gif</span><span
            class="o">.</span><span class="n">setMovie</span><span class="p">(</span><span class="n">giff</span><span
            class="p">)</span>
        <span class="n">giff</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.updateLabel"><a class="viewcode-back"
                                                           href="../../views.html#views.gui.MainWindow.updateLabel">[docs]</a>    <span
        class="k">def</span> <span class="nf">updateLabel</span><span class="p">(</span><span
        class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; this function handles countdown label&quot;&quot;&quot;</span>

        <span class="c1"># change the following line to retrieve the new voltage from the device</span>
        <span class="n">t</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span
            class="n">label</span><span class="o">.</span><span class="n">text</span><span class="p">())</span> <span
            class="o">-</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">0</span><span
            class="p">:</span>
            <span class="n">label</span><span class="o">.</span><span class="n">setText</span><span
            class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">gvariables</span><span
            class="o">.</span><span class="n">listener</span><span class="o">.</span><span
            class="n">hand_vel</span> <span class="o">&lt;</span> <span class="mi">270</span> <span class="ow">or</span> <span
            class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">fingers_vel</span><span class="p">[</span><span class="mi">4</span><span
            class="p">]</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">):</span>
                <span class="k">pass</span>

            <span class="n">gvariables</span><span class="o">.</span><span class="n">listener</span><span
            class="o">.</span><span class="n">capture_frame</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span>

        <span class="n">label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span
            class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
        <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span class="o">.</span><span
            class="n">singleShot</span><span class="p">(</span><span class="mi">1000</span><span
            class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span
            class="o">.</span><span class="n">updateLabel</span><span class="p">(</span><span
            class="n">label</span><span class="p">))</span></div>

<div class="viewcode-block" id="MainWindow.show_popup"><a class="viewcode-back"
                                                          href="../../views.html#views.gui.MainWindow.show_popup">[docs]</a>    <span
        class="k">def</span> <span class="nf">show_popup</span><span class="p">(</span><span class="bp">self</span><span
        class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span
        class="p">,</span> <span class="n">inftext</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span
            class="n">QMessageBox</span><span class="o">.</span><span class="n">Information</span><span
            class="p">)</span>

        <span class="n">msg</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span
            class="n">text</span><span class="p">)</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">setInformativeText</span><span
            class="p">(</span><span class="n">inftext</span><span class="p">)</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">setWindowTitle</span><span
            class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="c1">#msg.setDetailedText(&quot;The details are as follows:&quot;)</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">setStandardButtons</span><span
            class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span
            class="p">)</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.exit_app"><a class="viewcode-back"
                                                        href="../../views.html#views.gui.MainWindow.exit_app">[docs]</a>    <span
        class="k">def</span> <span class="nf">exit_app</span><span class="p">(</span><span class="bp">self</span><span
        class="p">):</span>
        <span class="sd">&quot;&quot;&quot; ends app execution and closes all windows&quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;exiting...&quot;</span><span
            class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened</span> <span class="o">=</span> <span
            class="kc">False</span></div></div>
</pre>
                </div>

            </div>

        </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h1 class="logo"><a href="../../index.html">LeapPCController</a></h1>


            <h3>Navigation</h3>

            <div class="relations">
                <h3>Related Topics</h3>
                <ul>
                    <li><a href="../../index.html">Documentation overview</a>
                        <ul>
                            <li><a href="../index.html">Module code</a>
                                <ul>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3>Quick search</h3>
                <div class="searchformwrapper">
                    <form class="search" action="../../search.html" method="get">
                        <input type="text" name="q"/>
                        <input type="submit" value="Go"/>
                        <input type="hidden" name="check_keywords" value="yes"/>
                        <input type="hidden" name="area" value="default"/>
                    </form>
                </div>
            </div>
            <script type="text/javascript">$('#searchbox').show(0);</script>


        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy;2019, Mario Varas.

    |
    Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
    &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

</div>


</body>
</html>